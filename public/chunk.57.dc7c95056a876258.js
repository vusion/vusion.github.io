"undefined"==typeof window||window.ICON_FONT_STYLE?"undefined"!=typeof window&&window.ICON_FONT_STYLE&&window.ICON_FONT_STYLE.update&&window.ICON_FONT_STYLE.update({fontName:"vusion-icon-font",styleContent:'@font-face {\n\tfont-family: "vusion-icon-font";\n\tsrc:url("/public/vusion-icon-font.ttf?3d02953e747bbfe9edc13761bb7ff1de") format("truetype"),\n\turl("/public/vusion-icon-font.eot?3d02953e747bbfe9edc13761bb7ff1de#iefix") format("embedded-opentype"),\n\turl("/public/vusion-icon-font.woff?3d02953e747bbfe9edc13761bb7ff1de") format("woff"),\n\turl("/public/vusion-icon-font.svg?3d02953e747bbfe9edc13761bb7ff1de#vusion-icon-font") format("svg");\n}'}):window.ICON_FONT_STYLE={fontName:"vusion-icon-font",styleContent:'@font-face {\n\tfont-family: "vusion-icon-font";\n\tsrc:url("/public/vusion-icon-font.ttf?3d02953e747bbfe9edc13761bb7ff1de") format("truetype"),\n\turl("/public/vusion-icon-font.eot?3d02953e747bbfe9edc13761bb7ff1de#iefix") format("embedded-opentype"),\n\turl("/public/vusion-icon-font.woff?3d02953e747bbfe9edc13761bb7ff1de") format("woff"),\n\turl("/public/vusion-icon-font.svg?3d02953e747bbfe9edc13761bb7ff1de#vusion-icon-font") format("svg");\n}'},webpackJsonp([57],{416:function(s,t,e){function i(s){return(s||window.ICON_FONT_STYLE).styleContent||""}function h(s){var t=document.createElement("style"),e=document.getElementsByTagName("head")[0];t.innerHTML=i(s),t.id=n,t.type="text/css",e?e.appendChild(t):window.addEventListener("load",function(){e.appendChild(t)})}var n="ICON-FONT-FILE-STYLE";s.exports=function(){window.HAS_CREATE_FONT_STYLE||(h(),window.HAS_CREATE_FONT_STYLE=!0)}},463:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-article",[t("h1",[this._v("组件化")]),t("h3",[this._v("完全组件化")]),t("p",[this._v("在Vusion理念中，我们将用户界面中的每个功能完备的结构单元称为"),t("strong",[this._v("组件")]),this._v("。")]),t("p",[this._v("这里的“功能完备”不仅仅指模板（HTML）、样式（CSS）和逻辑（JS），还包括所依赖的资源、文档、单元测试等，我们把这称为"),t("strong",[this._v("组件化的完备性")]),this._v("。")]),t("p",[this._v("传统的一些前端项目，目录结构会按照"),t("code",{pre:!0},[this._v("html")]),this._v("、"),t("code",{pre:!0},[this._v("css")]),this._v("、"),t("code",{pre:!0},[this._v("js")]),this._v("、"),t("code",{pre:!0},[this._v("docs")]),this._v("、"),t("code",{pre:!0},[this._v("test")]),this._v("来分，这样常常导致路径引用很深、文件没有分治、目录结构混乱、组件无法单独抽取等问题。")]),t("p",[this._v("而在Vusion中，我们采取"),t("strong",[this._v("一个组件一个地方")]),this._v("的原则。")]),t("h4",[this._v("单文件组件")]),t("p",[this._v("我们将Vue原生的单文件组件做了扩展。比如一个"),t("code",{pre:!0},[this._v("u-select.vue")]),this._v("文件：")]),t("pre",{pre:!0,attrs:{class:"hljs lang-xhtml"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("               "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 组件模板 --\x3e")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"undefined"}}),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("                   "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 组件逻辑 --\x3e")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"undefined"}}),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("              "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 组件样式 --\x3e")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("test")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("test")]),this._v(">")]),this._v("                       "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 单元测试 --\x3e")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("docs")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("docs")]),this._v(">")]),this._v("                       "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 组件文档 --\x3e")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("changelog")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("changelog")]),this._v(">")]),this._v("             "),t("span",{attrs:{class:"hljs-comment"}},[this._v("\x3c!-- 修改日志 --\x3e")]),this._v("\n")])]),t("p",[this._v("除了原来的"),t("code",{pre:!0},[this._v("<template>")]),this._v("、"),t("code",{pre:!0},[this._v("<script>")]),this._v("、"),t("code",{pre:!0},[this._v("<style>")]),this._v("三个标签，还利用"),t("u-link",{attrs:{href:"https://github.com/vuejs/vue-loader"}},[this._v("vue-loader")]),this._v("的"),t("u-link",{attrs:{href:"https://vue-loader.vuejs.org/zh-cn/configurations/custom-blocks.html"}},[this._v("自定义块")]),this._v("功能增加了"),t("code",{pre:!0},[this._v("<test>")]),this._v("、"),t("code",{pre:!0},[this._v("<docs>")]),this._v("、"),t("code",{pre:!0},[this._v("<changelog>")]),this._v("三个标签。")],1),t("h4",[this._v("多文件组件")]),t("p",[this._v("但有时单文件可以支持的功能还是有些薄弱，比如无法放置资源，因此我们创造了"),t("u-link",{attrs:{href:"https://github.com/vusion/vue-multifile-loader"}},[this._v("vue-multifile-loader")]),this._v("，它与"),t("code",{pre:!0},[this._v("vue-loader")]),this._v("的功能时时保持同步。")],1),t("p",[this._v("这样，一个Vue组件可以采用如下方式书写：")]),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[this._v("u-select.vue/index.html             # 组件模板\nu-select.vue/index.js               # 组件逻辑\nu-select.vue/module.css             # 组件样式\nu-select.vue/icons/arrow-down.svg   # 相关资源\nu-select.vue/test.spec.js           # 单元测试\nu-select.vue/README.md              # 组件文档\nu-select.vue/CHANGELOG.md           # 修改日志\nu-select.vue/package.json           # npm包信息\n")])]),t("h4",[this._v("单文件组件 vs 多文件组件")]),t("p",[this._v("那么为什么要同时支持两种书写方式呢？")]),t("p",[this._v("主要是因为两种书写方式各有特色。单文件组件创建起来比较快捷，也是Vue原生的特色，适用于书写业务模块；而多文件组件在功能上支持的更多，适用于构造通用组件，方便扩展。")]),t("p",[this._v("Webpack的模块引入字符串可以将"),t("code",{pre:!0},[this._v("index.js")]),this._v("部分省略，因此两种书写方式都可以写作"),t("code",{pre:!0},[this._v("import Select from 'u-select.vue'")]),this._v("，这样便不会对依赖模块有所影响。")]),t("p",[this._v("一般来说，单文件组件的功能是多文件组件的功能的子集。如果一个组件没有使用到那些额外的功能的话，我们认为两种书写方式是"),t("strong",[this._v("等效")]),this._v("的。")]),t("p",[this._v("所以Vusion CLI提供一个"),t("code",{pre:!0},[this._v("transform")]),this._v("的命令，可以将组件在两者之间互相转换。")]),t("pre",{pre:!0,attrs:{class:"hljs lang-shell"}},[t("code",{attrs:{"v-pre":""}},[this._v("vusion transform ./src/u-select.vue\n")])]),t("h3",[this._v("组件的分类")]),t("p",[this._v("在一个项目中，一般可以将组件分类两类：")]),t("ul",[t("li",[t("strong",[this._v("通用组件（common）")]),this._v("：在项目中多个模块中可能用到的组件。推荐在Vue中进行全局注册，并进行统一管理。"),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[this._v("Vue.component("),t("span",{attrs:{class:"hljs-string"}},[this._v("'u-select'")]),this._v(", Select);\n")])])]),t("li",[t("strong",[this._v("特定组件（specific）")]),this._v("：在项目中仅仅个别模块用到的组件。为了减少全局污染，推荐用Vue的"),t("code",{pre:!0},[this._v("components")]),this._v("选项进行局部注册。"),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("components")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-string"}},[this._v("'s-task-detail'")]),this._v(": TaskDetail,\n    },\n};\n")])])])]),t("h3",[this._v("组件的扩展与继承")]),t("p",[this._v("在Vue中，可以使用"),t("code",{pre:!0},[this._v("extend")]),this._v("或"),t("code",{pre:!0},[this._v("mixin")]),this._v("对组件进行扩展与继承。")]),t("p",[this._v("例如表单控件都有一些验证、反馈、限制等共有的特性，这时我们可以将这些特性抽取为一个基类组件"),t("code",{pre:!0},[this._v("u-field")]),this._v("，然后让"),t("code",{pre:!0},[this._v("u-input")]),this._v("、"),t("code",{pre:!0},[this._v("u-select")]),this._v("、"),t("code",{pre:!0},[this._v("u-date-picker")]),this._v("等从这个基组件派生。")]),t("p",[this._v("在完全模块化之后，组件的依赖关系只能走JS路线。如果要想给一个组件库中的组件"),t("code",{pre:!0},[this._v("u-select")]),this._v("复写样式或者添加属性，就需要从这个组件派生出一个新的也叫"),t("code",{pre:!0},[this._v("u-select")]),this._v("的组件，然后在全局注册中将原来的组件覆盖掉。")]),t("p",[this._v("为了方便描述，我们把后一种同名派生称为"),t("strong",[this._v("扩展")]),this._v("，把前一种异名派生称为"),t("strong",[this._v("继承")]),this._v("。")]),t("h4",[this._v("扩展与继承的策略")]),t("p",[this._v("为了简便，在组件扩展或继承时，如果模板、样式和逻辑等一些功能块没有发生变化，可以省略。")]),t("p",[this._v("下表为几种功能块省略或未省略时的扩展与继承策略。")]),t("table",[t("thead",[t("tr",[t("th"),t("th",[this._v("逻辑（JS）")]),t("th",[this._v("模板（HTML）")]),t("th",[this._v("样式（CSS）")]),t("th",[this._v("文档（Docs）")])])]),t("tbody",[t("tr",[t("td",[this._v("省略")]),t("td",[t("em",[this._v("报错")])]),t("td",[this._v("与基组件一致")]),t("td",[this._v("与基组件一致")]),t("td",[this._v("与基组件一致")])]),t("tr",[t("td",[this._v("未省略")]),t("td",[this._v("Vue的Mixin策略")]),t("td",[this._v("\b 覆盖")]),t("td",[this._v("补充/合并/重写")]),t("td",[this._v("覆盖")])])])]),t("p",[this._v("正因为Vusion针对组件提供了如此灵活的扩展与继承机制，所以它支持组件库的任意组合与衍生，提高了组件库的适用性，下一节将会描述它是如何办到的。")])])},staticRenderFns:[]},h=e(1)(null,i,!1,null,null,null);t.default=h.exports}});