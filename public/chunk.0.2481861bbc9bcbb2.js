"undefined"==typeof window||window.ICON_FONT_STYLE?"undefined"!=typeof window&&window.ICON_FONT_STYLE&&window.ICON_FONT_STYLE.update&&window.ICON_FONT_STYLE.update({fontName:"vusion-icon-font",styleContent:'@font-face {\n\tfont-family: "vusion-icon-font";\n\tsrc:url("/public/vusion-icon-font.ttf?2453eb6e088dfa4ec2fabd031e83bbcd") format("truetype"),\n\turl("/public/vusion-icon-font.eot?2453eb6e088dfa4ec2fabd031e83bbcd#iefix") format("embedded-opentype"),\n\turl("/public/vusion-icon-font.woff?2453eb6e088dfa4ec2fabd031e83bbcd") format("woff"),\n\turl("/public/vusion-icon-font.svg?2453eb6e088dfa4ec2fabd031e83bbcd#vusion-icon-font") format("svg");\n}'}):window.ICON_FONT_STYLE={fontName:"vusion-icon-font",styleContent:'@font-face {\n\tfont-family: "vusion-icon-font";\n\tsrc:url("/public/vusion-icon-font.ttf?2453eb6e088dfa4ec2fabd031e83bbcd") format("truetype"),\n\turl("/public/vusion-icon-font.eot?2453eb6e088dfa4ec2fabd031e83bbcd#iefix") format("embedded-opentype"),\n\turl("/public/vusion-icon-font.woff?2453eb6e088dfa4ec2fabd031e83bbcd") format("woff"),\n\turl("/public/vusion-icon-font.svg?2453eb6e088dfa4ec2fabd031e83bbcd#vusion-icon-font") format("svg");\n}'},webpackJsonp([0],{464:function(s,t,a){function h(s){return(s||window.ICON_FONT_STYLE).styleContent||""}function i(s){var t=document.createElement("style"),a=document.getElementsByTagName("head")[0];t.innerHTML=h(s),t.id=l,t.type="text/css",a?a.appendChild(t):window.addEventListener("load",function(){a.appendChild(t)})}var l="ICON-FONT-FILE-STYLE";s.exports=function(){window.HAS_CREATE_FONT_STYLE||(i(),window.HAS_CREATE_FONT_STYLE=!0)}},470:function(s,t,a){var h=a(471);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("28f21692",h,!0)},471:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._3-2FxdbJjsObz9bw{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={root:"_3-2FxdbJjsObz9bw"}},472:function(s,t,a){var h=a(473);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("79dbd890",h,!0)},473:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._3OvodpsKHyioeA15{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={root:"_3OvodpsKHyioeA15"}},474:function(s,t,a){var h=a(475);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("920abad4",h,!0)},475:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._1IrwwQnHbRP9RqbK{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={root:"_1IrwwQnHbRP9RqbK"}},476:function(s,t,a){var h=a(477);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("5a44a8c2",h,!0)},477:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._1x2Jsm5oqGVMkVYI{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={checkbox:"_1x2Jsm5oqGVMkVYI"}},478:function(s,t,a){var h=a(479);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("13a4cfd2",h,!0)},479:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,".U155ndJ_69PraE3n{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={checkbox:"U155ndJ_69PraE3n"}},480:function(s,t,a){var h=a(481);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("7c37def8",h,!0)},481:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._3ho1bQ-V8DRWFYsj{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1abc9c}",""]),t.locals={root:"_3ho1bQ-V8DRWFYsj"}},482:function(s,t,a){var h=a(483);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("4a8e55a2",h,!0)},483:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,"._36NGT-hM-MCj9aud{width:60px}",""]),t.locals={root:"DPaIz7vbSv9aCOL8",input:"_36NGT-hM-MCj9aud"}},484:function(s,t,a){var h=a(485);"string"==typeof h&&(h=[[s.i,h,""]]),h.locals&&(s.exports=h.locals);a(466)("a26ece9a",h,!0)},485:function(s,t,a){(t=s.exports=a(465)(void 0)).push([s.i,".PDSulDRBy8iMnW0S{width:60px}",""]),t.locals={root:"_1rqWVskUVnYa5G2j",input:"PDSulDRBy8iMnW0S"}},499:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-form",{attrs:{rules:this.rules}},[t("u-form-item",{attrs:{label:"用户名",name:"username"}},[t("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),t("u-form-item",{attrs:{label:"邮箱",name:"email"}},[t("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},i=a(1)({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"blur",message:"邮箱格式不正确"}]}}}},h,!1,null,null,null).exports,l={data:function(){var s=this;return{model:{password:"",confirm:""},rules:{password:[{type:"string",required:!0,trigger:"blur",message:"请输入密码"},{type:"string",min:6,max:12,trigger:"blur",message:"6~12个字符"}],confirm:[{type:"string",required:!0,trigger:"blur",message:"两次输入的密码不一致",validator:function(t,a,h){a===s.model.password?h():h(new Error)}}]}}}},n={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("u-form",{attrs:{rules:s.rules}},[a("u-form-item",{attrs:{label:"密码",name:"password"}},[a("u-input",{attrs:{type:"password",maxlength:"12",placeholder:"6~12个字符"},model:{value:s.model.password,callback:function(t){s.$set(s.model,"password",t)},expression:"model.password"}})],1),a("u-form-item",{attrs:{label:"确认密码",name:"confirm"}},[a("u-input",{attrs:{type:"password",maxlength:"12",placeholder:"6~12个字符"},model:{value:s.model.confirm,callback:function(t){s.$set(s.model,"confirm",t)},expression:"model.confirm"}})],1),a("u-form-item",[a("u-button",[s._v("设置")])],1)],1)},staticRenderFns:[]},r=a(1)(l,n,!1,null,null,null).exports,v={data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"},{type:"string",required:!0,trigger:"blur",message:"该用户名已被使用",validator:function(s,t,a){(function(s){return new Promise(function(t,a){["aaaa","abcd","1234"].includes(s)?a("该用户名已被使用"):t()})})(t).then(function(){return a()}).catch(function(s){return a(new Error(s))})}}]}}}},e={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-form",{attrs:{rules:this.rules}},[t("u-form-item",{attrs:{label:"用户名",name:"username"}},[t("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1)],1)},staticRenderFns:[]},_=a(1)(v,e,!1,null,null,null).exports,p={data:function(){return{rules:{username:[{type:"string",required:!0,message:"请输入用户名"},{type:"string",min:4,max:12,message:"请输入4~12个字符"}],email:[{type:"string",required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}]}}},methods:{submit:function(){this.$refs.form.validate().then(function(){return alert("提交成功")}).catch(function(){})}}},c={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("u-form",{ref:"form",attrs:{rules:s.rules}},[a("u-form-item",{attrs:{label:"用户名",name:"username"}},[a("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),a("u-form-item",{attrs:{label:"邮箱",name:"email"}},[a("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1),a("u-form-item",[a("u-button",{attrs:{color:"primary"},on:{click:function(t){s.submit()}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},u=a(1)(p,c,!1,null,null,null).exports,j={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-form",{ref:"form",attrs:{rules:this.rules}},[t("u-form-item",{attrs:{label:"用户名",name:"username"}},[t("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),t("u-form-item",{attrs:{label:"邮箱",name:"email"}},[t("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},o=a(1)({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"blur",message:"邮箱格式不正确"}]}}}},j,!1,null,null,null).exports,m={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-form",{ref:"form",attrs:{rules:this.rules}},[t("u-form-item",{attrs:{label:"用户名",name:"username"}},[t("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),t("u-form-item",{attrs:{label:"邮箱",name:"email"}},[t("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},g=a(1)({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"input+blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"input",message:"邮箱格式不正确"}]}}}},m,!1,null,null,null).exports,d={render:function(){var s=this.$createElement;return(this._self._c||s)("div",{class:this.$style.root},[this._v("✓")])},staticRenderFns:[]},f={},b=a(1)({name:"e-checkbox"},d,!1,function(s){f.$style=a(470),this.$style=f.$style},null,null).exports,y={name:"e-checkbox",props:{value:{type:Boolean,default:!0}}},x={render:function(){var s=this,t=s.$createElement;return(s._self._c||t)("div",{class:s.$style.root,on:{click:function(t){s.value=!s.value}}},[s._v(s._s(s.value?"✓":" "))])},staticRenderFns:[]},k={},w=a(1)(y,x,!1,function(s){k.$style=a(472),this.$style=k.$style},null,null).exports,$={name:"e-checkbox",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}}},C={render:function(){var s=this,t=s.$createElement;return(s._self._c||t)("div",{class:s.$style.root,on:{click:function(t){s.currentValue=!s.currentValue}}},[s._v(s._s(s.currentValue?"✓":" "))])},staticRenderFns:[]},V={},F=a(1)($,C,!1,function(s){V.$style=a(474),this.$style=V.$style},null,null).exports,q={components:{"e-checkbox":{template:"<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{checked:!1}}},E={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("div",[s._v("复选框："),a("e-checkbox",{class:s.$style.checkbox,model:{value:s.checked,callback:function(t){s.checked=t},expression:"checked"}})],1),a("div",[s._v("绑定值："+s._s(s.checked))])])},staticRenderFns:[]},I={},B=a(1)(q,E,!1,function(s){I.$style=a(476),this.$style=I.$style},null,null).exports,R=a(167),N={components:{"e-checkbox":{mixins:[R.Field],template:"<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{rules:[{type:"boolean",required:!0,trigger:"input",message:"您还未接受服务条款",validator:function(s,t,a){t?a():a(new Error(!1))}}]}}},T={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("u-form",{ref:"form"},[a("u-form-item",{attrs:{label:"复选框",required:"",rules:s.rules}},[a("e-checkbox",{class:s.$style.checkbox}),s._v(" 同意并遵守服务条款\n    ")],1),a("u-form-item",[a("u-button",{attrs:{color:"primary"},on:{click:function(t){s.$refs.form.validate()}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},P={},S=a(1)(N,T,!1,function(s){P.$style=a(478),this.$style=P.$style},null,null).exports,O={name:"e-checkbox",mixins:[R.Field],props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{onFocus:function(s){this.$emit("focus",s)},onBlur:function(s){this.$emit("blur",s)},check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}},z={render:function(){var s=this,t=s.$createElement;return(s._self._c||t)("div",{class:s.$style.root,attrs:{tabindex:"0"},on:{click:function(t){s.check()},keydown:function(t){if(!("button"in t)&&s._k(t.keyCode,"space",32,t.key))return null;t.preventDefault()},keyup:function(t){if(!("button"in t)&&s._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),s.check()},focus:s.onFocus,blur:s.onBlur}},[s._v(s._s(s.currentValue?"✓":" "))])},staticRenderFns:[]},A={},Y=a(1)(O,z,!1,function(s){A.$style=a(480),this.$style=A.$style},null,null).exports,L={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{class:this.$style.root},[t("u-input",{class:this.$style.input,attrs:{maxlength:"3"}}),this._v(" .\n    "),t("u-input",{class:this.$style.input,attrs:{maxlength:"3"}}),this._v(" .\n    "),t("u-input",{class:this.$style.input,attrs:{maxlength:"3"}}),this._v(" .\n    "),t("u-input",{class:this.$style.input,attrs:{maxlength:"3"}})],1)},staticRenderFns:[]},M={},D=a(1)({name:"e-ip-input"},L,!1,function(s){M.$style=a(482),this.$style=M.$style},null,null).exports,H={name:"e-ip-input",props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}}},J={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{class:s.$style.root},[a("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[0],callback:function(t){s.$set(s.parts,0,t)},expression:"parts[0]"}}),s._v(" .\n    "),a("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[1],callback:function(t){s.$set(s.parts,1,t)},expression:"parts[1]"}}),s._v(" .\n    "),a("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[2],callback:function(t){s.$set(s.parts,2,t)},expression:"parts[2]"}}),s._v(" .\n    "),a("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[3],callback:function(t){s.$set(s.parts,3,t)},expression:"parts[3]"}})],1)},staticRenderFns:[]},G={},W=a(1)(H,J,!1,function(s){G.$style=a(484),this.$style=G.$style},null,null).exports,Z={components:{"e-ip-input":{template:'<div style="display: inline-block">\n                <u-input maxlength="3" v-model="parts[0]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[1]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[2]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[3]" @input="onInput()" style="width: 60px"></u-input>\n            </div>',props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}},methods:{onInput:function(){var s=this.parts.join(".");this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{ip:void 0}}},Q={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("div",[s._v("IP框："),a("e-ip-input",{model:{value:s.ip,callback:function(t){s.ip=t},expression:"ip"}})],1),a("div",[s._v("绑定值："+s._s(s.ip))])])},staticRenderFns:[]},U=a(1)(Z,Q,!1,null,null,null).exports,K={components:{"e-ip-input":{mixins:[R.Field],template:'<div style="display: inline-block">\n                <u-input maxlength="3" v-model="parts[0]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[1]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[2]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[3]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input>\n            </div>',props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}},methods:{onInput:function(s,t){var a=this.parts.join(".");this.$emit("input",a),this.$emit("update:value",a)},onChange:function(){var s=this.parts.join(".");this.$emit("change",{value:s})},onFocus:function(s){this.$emit("focus",s)},onBlur:function(s){this.$emit("blur",s)}}}},data:function(){return{model:{ip:void 0},rules:[{type:"string",required:!0,trigger:"blur",message:"请填写IP"},{type:"string",required:!0,message:"请填写完整的IP",validator:function(s,t,a){4===t.split(".").length?a():a(new Error(""))}},{type:"string",required:!0,trigger:"input+blur",message:"请填写数字",validator:function(s,t,a){t.split(".").every(function(s){return!isNaN(s)&&""!==s})?a():a(new Error)}},{type:"string",required:!0,trigger:"input+blur",message:"请填写0-255的数字",validator:function(s,t,a){t.split(".").every(function(s){return 0<=s&&s<256})?a():a(new Error)}}]}}},X={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("u-form",{ref:"form"},[a("u-form-item",{attrs:{label:"IP地址",required:"",rules:s.rules}},[a("e-ip-input",{model:{value:s.model.ip,callback:function(t){s.$set(s.model,"ip",t)},expression:"model.ip"}})],1),a("u-form-item",[a("u-button",{attrs:{color:"primary"},on:{click:function(t){s.$refs.form.validate().catch(function(){})}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},ss={components:{Caf357d:i,Cf14b93:r,C1b381d:_,C78f0b7:u,C3f5ebf:o,C3a5f9a:g,C2a9b39:b,Ca7ed6a:w,C01868c:F,C0ac978:B,C74a27d:S,Cf2be93:Y,C383ae8:D,C79e811:W,C21e125:U,C96eb39:a(1)(K,X,!1,null,null,null).exports}},ts={render:function(){var s=this.$createElement,t=this._self._c||s;return t("u-article",[t("h1",[this._v("表单系列")]),t("p",[this._v("一般来说，表单是Web应用中最常见，最重要，也是最复杂的交互形式之一，表单系列组件设计的好坏很大程度决定了整个应用实现的质量。")]),t("p",[this._v("表单的布局样式比较统一，但会有许多如规则验证、数据比较、数据缓存等复杂的通用逻辑。由于原生表单元素样式简陋，功能单薄，对SPA不友好，不具备处理这些复杂问题的能力，因此必须在原生元素基础上作一层封装。")]),t("h2",[this._v("相关组件")]),t("h3",[this._v("示例")]),t("p",[this._v("比如下面的例子是一个简单的填写个人信息的表单：")]),t("div",{staticClass:"u-example"},[t("u-form",[t("u-form-item",{attrs:{label:"性别"}},[t("u-radios",{attrs:{value:"男"}},[t("u-radio",{attrs:{label:"男"}},[this._v("男")]),t("u-radio",{attrs:{label:"女"}},[this._v("女")])],1)],1),t("u-form-item",{attrs:{label:"昵称",required:""}},[t("u-input",{attrs:{maxlength:"20",placeholder:"不得超过20个字符"}})],1),t("u-form-item",{attrs:{label:"手机",required:""}},[t("u-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"}})],1),t("u-form-item",{attrs:{label:"自我介绍"}},[t("u-textarea")],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"}},[this._v("提交")])],1)],1)],1),t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"性别"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radios")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"男"')]),this._v(">")]),this._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radio")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"男"')]),this._v(">")]),this._v("男"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radio")]),this._v(">")]),this._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radio")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"女"')]),this._v(">")]),this._v("女"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radio")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-radios")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"昵称"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"20"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"不得超过20个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"手机"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"11"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入手机号"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"自我介绍"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-textarea")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-textarea")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("color")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"primary"')]),this._v(">")]),this._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n")])]),t("p",[this._v("根据日常经验，我们可以归纳出与表单相关的组件有以下几种：")]),t("h4",[this._v("表单 Form")]),t("p",[this._v("用于整体布局，集中设置属性，统一暴露事件和方法。")]),t("h4",[this._v("表单组 FormGroup")]),t("p",[this._v("针对表单项进行分组，主要用于布局，可能会有分组组件常见的折叠功能。")]),t("h4",[this._v("表单项 FormItem")]),t("p",[this._v("用于排列表单标签与控件的位置，必选提示，规则验证等。")]),t("h4",[this._v("表单域（表单控件） Field")]),t("p",[this._v("作为各种表单域（表单控件）的基类，用于触发FormItem的验证等功能。")]),t("p",[this._v("比如常见的："),t("code",{pre:!0},[this._v("<u-input>")]),this._v("、"),t("code",{pre:!0},[this._v("<u-select>")]),this._v("、"),t("code",{pre:!0},[this._v("<u-radios>")]),this._v("、"),t("code",{pre:!0},[this._v("<u-date-picker>")]),this._v("等。")]),t("p",[this._v("页面上有很多组件，通常我们可以认为：")]),t("blockquote",[t("p",[this._v("如果一个组件可以通过表单对后端数据进行读写操作的，那么它就是一个"),t("strong",[this._v("表单控件")]),this._v("。")])]),t("h2",[this._v("功能设计")]),t("h3",[this._v("布局")]),t("p",[this._v("表单除了一般上面的纵向布局，某些情况也会有行内布局。")]),t("div",{staticClass:"u-example"},[t("u-form",{attrs:{layout:"inline","label-size":"auto"}},[t("u-form-item",{attrs:{label:"状态"}},[t("u-select",[t("u-select-item",[this._v("创建中")]),t("u-select-item",[this._v("成功")]),t("u-select-item",[this._v("失败")])],1)],1),t("u-form-item",{attrs:{label:"用户名"}},[t("u-input",{attrs:{maxlength:"20",placeholder:"请输入用户名"}})],1),t("u-form-item",{attrs:{label:"手机"}},[t("u-input",{attrs:{maxlength:"11",placeholder:"请输入手机"}})],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"}},[this._v("查询")])],1)],1)],1),t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("layout")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"inline"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label-size")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"auto"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"状态"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select")]),this._v(">")]),this._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("创建中"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("成功"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("失败"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select-item")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-select")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"20"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入用户名"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"手机"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"11"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入手机"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("color")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"primary"')]),this._v(">")]),this._v("查询"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n")])]),t("p",[t("code",{pre:!0},[this._v("<u-form>")]),this._v("提供了一个"),t("code",{pre:!0},[this._v("layout")]),this._v("属性，它有两个可选值："),t("code",{pre:!0},[this._v("block")]),this._v("和"),t("code",{pre:!0},[this._v("inline")]),this._v("，以后还可能有其它的值。")]),t("h3",[this._v("验证")]),t("p",[this._v("表单验证是表单的核心功能。我们希望各个表单控件都可以统一走表单的验证流程，而不是额外编写代码。因此，设计组件的时候需考虑得尽可能通用和全面，它至少要包含以下功能：")]),t("ul",[t("li",[this._v("规则列表")]),t("li",[this._v("规则扩充")]),t("li",[this._v("异步验证")]),t("li",[this._v("触发方式")])]),t("p",[this._v("下面一一展开。")]),t("h4",[this._v("规则列表")]),t("p",[this._v("一个表单项的验证规则用一个对象来表示是不够的，因为往往不同的验证情况会有不同的提示消息和不同的触发方式。")]),t("p",[this._v("比如下面的例子，一个用户名输入框的验证规则：")]),t("ol",[t("li",[this._v("必须输入用户名，失焦验证")]),t("li",[this._v("以字母开头，实时验证")]),t("li",[this._v("字母、数字或中划线组成，实时验证")]),t("li",[this._v("以字母或数字结尾，失焦验证")]),t("li",[this._v("4~12个字符，失焦验证")])]),t("p",[this._v("我们必须用一个有序列表"),t("code",{pre:!0},[this._v("rules")]),this._v("来表示，列表中包含若干条验证规则对象。结构如下：")]),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[this._v("[{ "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", ... }, { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'email'")]),this._v(", ... }, { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("pattern")]),this._v(": ... }, ...]\n")])]),t("p",[this._v("每条规则对象通常有以下几个参数：")]),t("ul",[t("li",[t("code",{pre:!0},[this._v("type")]),this._v("：数据类型")]),t("li",[t("code",{pre:!0},[this._v("trigger")]),this._v("：触发方式")]),t("li",[t("code",{pre:!0},[this._v("message")]),this._v("：验证不通过时的消息提示")]),t("li",[this._v("...")])]),t("p",[this._v("上面提到的例子可以用下面的规则列表来表示：")]),t("div",{staticClass:"u-example"},[t("u-form-item",{attrs:{label:"用户名",rules:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",pattern:/^[a-zA-Z]/,trigger:"input+blur",message:"以字母开头"},{type:"string",pattern:/^[a-zA-Z0-9-]+$/,trigger:"input+blur",message:"字母、数字或中划线组成"},{type:"string",pattern:/[a-zA-Z0-9]$/,trigger:"blur",message:"以字母或数字结尾"},{type:"string",min:4,trigger:"blur",message:"不得少于4个字符"}]}},[t("u-input",{attrs:{maxlength:"112",placeholder:"4~12位字母、数字或中划线组成"}})],1)],1),t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v("\"[\n    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },\n    { type: 'string', pattern: /^[a-zA-Z]/, trigger: 'input+blur', message: '以字母开头' },\n    { type: 'string', pattern: /^[a-zA-Z0-9-]+$/, trigger: 'input+blur', message: '字母、数字或中划线组成' },\n    { type: 'string', pattern: /[a-zA-Z0-9]$/, trigger: 'blur', message: '以字母或数字结尾' },\n    { type: 'string', min: 4, trigger: 'blur', message: '不得少于4个字符' },\n]\"")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"112"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12位字母、数字或中划线组成"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n")])]),t("h5",[this._v("多字段的规则列表")]),t("p",[this._v("一个表单经常需要给的多个字段添加规则列表。为了方便，我们支持在"),t("code",{pre:!0},[this._v("<u-form>")]),this._v("中汇总传入，通过"),t("code",{pre:!0},[this._v("<u-form-item>")]),this._v("的"),t("code",{pre:!0},[this._v("name")]),this._v("属性来区别。")]),t("div",{staticClass:"u-example"},[t("Caf357d")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"username"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"邮箱"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"email"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"24"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入邮箱"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("username")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入用户名'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入4~12个字符'")]),this._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("email")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入邮箱'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'email'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'邮箱格式不正确'")]),this._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("规则扩充和异步验证")]),t("p",[this._v("我们使用了"),t("u-link",{attrs:{href:"https://github.com/yiminghe/async-validator"}},[this._v("async-validator")]),this._v("这个库，基本可以满足这两项功能。")],1),t("p",[this._v("比如下面的例子是关于自定义规则的，判断两次输入的密码是否一致：")]),t("div",{staticClass:"u-example"},[t("Cf14b93")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"密码"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"password"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"password"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"model.password"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"6~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"确认密码"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"confirm"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"password"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"model.confirm"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"6~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),this._v("设置"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("model")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("password")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("''")]),this._v(",\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("confirm")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("''")]),this._v(",\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("password")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入密码'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("6")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'6~12个字符'")]),this._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("confirm")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'两次输入的密码不一致'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("validator")]),this._v(": "),t("span",{attrs:{class:"hljs-function"}},[this._v("("),t("span",{attrs:{class:"hljs-params"}},[this._v("rule, value, callback")]),this._v(") =>")]),this._v(" {\n                        value === "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".model.password ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Error")]),this._v("());\n                    } },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("p",[this._v("下面的例子是关于异步验证的，判断用户名是否已被使用，尝试输入“aaaa”：")]),t("div",{staticClass:"u-example"},[t("C1b381d")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"username"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" checkUsername = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[this._v("function")]),this._v(" ("),t("span",{attrs:{class:"hljs-params"}},[this._v("username")]),this._v(") ")]),this._v("{\n    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Promise")]),this._v("("),t("span",{attrs:{class:"hljs-function"}},[this._v("("),t("span",{attrs:{class:"hljs-params"}},[this._v("resolve, reject")]),this._v(") =>")]),this._v(" {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("if")]),this._v(" (["),t("span",{attrs:{class:"hljs-string"}},[this._v("'aaaa'")]),this._v(", "),t("span",{attrs:{class:"hljs-string"}},[this._v("'abcd'")]),this._v(", "),t("span",{attrs:{class:"hljs-string"}},[this._v("'1234'")]),this._v("].includes(username))\n            reject("),t("span",{attrs:{class:"hljs-string"}},[this._v("'该用户名已被使用'")]),this._v(");\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("else")]),this._v("\n            resolve();\n    });\n};\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("username")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入用户名'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入4~12个字符'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'该用户名已被使用'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("validator")]),this._v(": "),t("span",{attrs:{class:"hljs-function"}},[this._v("("),t("span",{attrs:{class:"hljs-params"}},[this._v("rule, value, callback")]),this._v(") =>")]),this._v(" {\n                        checkUsername(value)\n                            .then("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[this._v("()")]),this._v(" =>")]),this._v(" callback())\n                            .catch("),t("span",{attrs:{class:"hljs-function"}},[this._v("("),t("span",{attrs:{class:"hljs-params"}},[this._v("err")]),this._v(") =>")]),this._v(" callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Error")]),this._v("(err)));\n                    } },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("触发方式")]),t("p",[this._v("表单验证行为按照实时性通常可以分为三种：提交验证、失焦验证、实时验证，分别对应验证规则"),t("code",{pre:!0},[this._v("trigger")]),this._v("的三种触发方式："),t("code",{pre:!0},[this._v("submit")]),this._v(", "),t("code",{pre:!0},[this._v("blur")]),this._v(", "),t("code",{pre:!0},[this._v("input")]),this._v("，规则中默认为"),t("code",{pre:!0},[this._v("submit")]),this._v("。")]),t("p",[this._v("另外还有一种行为叫表单限制，不属于表单验证，但通常与之配合使用。")]),t("h5",[this._v("提交验证")]),t("p",[this._v("点击表单提交按钮时才对表单中所有控件进行验证，通常对应submit按钮的"),t("code",{pre:!0},[this._v("click")]),this._v("事件。示例如下：")]),t("div",{staticClass:"u-example"},[t("C78f0b7")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("ref")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"form"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"username"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"邮箱"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"email"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"24"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入邮箱"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("color")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"primary"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"submit()"')]),this._v(">")]),this._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("username")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入用户名'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入4~12个字符'")]),this._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("email")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入邮箱'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'email'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'邮箱格式不正确'")]),this._v(" },\n                ],\n            },\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("methods")]),this._v(": {\n        submit() {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$refs.form.validate()\n                .then("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[this._v("()")]),this._v(" =>")]),this._v(" alert("),t("span",{attrs:{class:"hljs-string"}},[this._v("'提交成功'")]),this._v("))\n                .catch("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[this._v("()")]),this._v(" =>")]),this._v(" {});\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h5",[this._v("失焦验证")]),t("p",[this._v("在表单控件失去焦点时对该控件进行验证，通常对应表单控件的"),t("code",{pre:!0},[this._v("blur")]),this._v("事件。示例如下：")]),t("div",{staticClass:"u-example"},[t("C3f5ebf")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("ref")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"form"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"username"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"邮箱"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"email"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"24"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入邮箱"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("username")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入用户名'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入4~12个字符'")]),this._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("email")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入邮箱'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'email'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'邮箱格式不正确'")]),this._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h5",[this._v("实时验证")]),t("p",[this._v("在表单控件的值实时输入改变时，对该控件进行验证，通常对应表单的"),t("code",{pre:!0},[this._v("input")]),this._v("事件。当只激活实时验证时，失焦验证会跳过此规则并且覆盖原来的结果，因此通常我们需要采用实时与失焦叠加的方式"),t("code",{pre:!0},[this._v("input+blur")]),this._v("。")]),t("p",[this._v("下面的例子中，对用户名长度和邮箱格式的判断为实时验证。其中邮箱的验证没有采用实时与失焦叠加的方式，可以发现这种方式不是很合理。")]),t("div",{staticClass:"u-example"},[t("C3a5f9a")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("ref")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"form"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"username"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"12"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4~12个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"邮箱"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"email"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"24"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"请输入邮箱"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("username")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入用户名'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("min")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("max")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("12")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'input+blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入4~12个字符'")]),this._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("email")]),this._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请输入邮箱'")]),this._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'email'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'邮箱格式不正确'")]),this._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h5",[this._v("表单限制")]),t("p",[this._v("在表单控件的值改变时，对该值限制在规定的长度、范围或者格式内，如"),t("code",{pre:!0},[this._v("<input>")]),this._v("控件的部分"),t("code",{pre:!0},[this._v("type")]),this._v("和"),t("code",{pre:!0},[this._v("maxlength")]),this._v("的限制行为等：")]),t("div",{staticClass:"u-example"},[t("u-form",[t("u-form-item",{attrs:{label:"用户名"}},[t("u-input",{attrs:{maxlength:"4",placeholder:"不超过4个字符"}})],1)],1)],1),t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"用户名"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"4"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("placeholder")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"不超过4个字符"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n")])]),t("p",[this._v("关于限制格式，我们之后计划给"),t("code",{pre:!0},[this._v("<u-input>")]),this._v("实现一个"),t("code",{pre:!0},[this._v("format")]),this._v("属性。")]),t("h3",[this._v("数据比较")]),t("h3",[this._v("数据缓存")]),t("h2",[this._v("扩充控件")]),t("p",[t("code",{pre:!0},[this._v("<u-form>")]),this._v("、"),t("code",{pre:!0},[this._v("<u-form-group>")]),this._v("、"),t("code",{pre:!0},[this._v("<u-form>")]),this._v("三种组件构成一个基本的表单体系，在大部分场景可以直接使用，不需要做扩展。而表单控件在业务中是多样的，原型组件库不可能完全覆盖，有很多需要自行设计。")]),t("p",[this._v("下面会讲述，如何设计表单控件，接入到Vusion的表单体系中，从而可以统一走表单的规则验证、事件处理等通道，无需额外处理。")]),t("h3",[this._v("简单示例")]),t("p",[this._v("我们先拿一个最简单的表单控件——复选框"),t("code",{pre:!0},[this._v("<e-checkbox>")]),this._v("来举例。")]),t("h4",[this._v("结构和样式")]),t("p",[this._v("首先可以很快实现它的结构和样式。")]),t("div",{staticClass:"u-example"},[t("C2a9b39")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v(">")]),this._v("✓"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(",\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("属性")]),t("p",[this._v("每个表单控件总有一个核心属性，通常用于绑定数据，比如：")]),t("ul",[t("li",[t("code",{pre:!0},[this._v("<u-checkbox>")]),this._v("可以有一个表示选中状态的"),t("code",{pre:!0},[this._v("checked")]),this._v("属性")]),t("li",[t("code",{pre:!0},[this._v("<u-date-picker>")]),this._v("可以有一个表示日期的"),t("code",{pre:!0},[this._v("date")]),this._v("属性")]),t("li",[t("code",{pre:!0},[this._v("<u-number-input>")]),this._v("可以有一个表示数字的"),t("code",{pre:!0},[this._v("number")]),this._v("属性")])]),t("p",[this._v("但在Vusion中，我们推荐统一使用"),t("code",{pre:!0},[this._v("value")]),this._v("属性来处理，因为：")]),t("ul",[t("li",[this._v("经常有对表单控件做统一处理的情形，比如有的时候你可能需要遍历："),t("code",{pre:!0},[this._v("form.fields.map((field) => field.value)")])]),t("li",[this._v("为了与Vue的"),t("code",{pre:!0},[this._v("v-model")]),this._v("保持一致（虽然它也支持自定义）")]),t("li",[this._v("有时实在想不出什么好的名字，不如直接用"),t("code",{pre:!0},[this._v("value")]),this._v("也不显得混乱")])]),t("p",[this._v("因此，我们给上面的示例添加属性：")]),t("div",{staticClass:"u-example"},[t("Ca7ed6a")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"value = !value"')]),this._v(">")]),this._v("{{ value ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Boolean")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(" },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("单向流与双向绑定")]),t("p",[this._v("熟悉Vue的童鞋都知道，Vue2.x为了保证单向数据流，放弃了1.x的双向绑定机制。这是好事，因为不用担心内部组件悄悄地改变父组件的状态。")]),t("p",[this._v("但与此同时，也给我们的组件设计稍微带来点不便：对于一个属性，我们往往需要两个变量来维护。")]),t("p",[this._v("比如在上面的例子中，我们只有一个prop，当点击复选框时，Vue却不允许修改这个属性。所以我们还需要一个data变量来维护实际的内部状态。")]),t("h5",[this._v("命名规范")]),t("p",[this._v("这里就牵扯到一个命名规范了。prop中一个"),t("code",{pre:!0},[this._v("value")]),this._v("，data中一个"),t("code",{pre:!0},[this._v("value")]),this._v("，名字重复，怎么定义比较好？")]),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[this._v("{\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Boolean")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(" };\n    },\n}\n")])]),t("p",[this._v("首先，"),t("code",{pre:!0},[this._v("value")]),this._v("和"),t("code",{pre:!0},[this._v("_value")]),this._v("是不行的，因为Vue不会对"),t("code",{pre:!0},[this._v("_")]),this._v("开头的变量做依赖管理。然后，有的组件库中是用"),t("code",{pre:!0},[this._v("initValue")]),this._v("或者"),t("code",{pre:!0},[this._v("defaultValue")]),this._v("来表示prop，用"),t("code",{pre:!0},[this._v("value")]),this._v("来表示data，我认为这样也不合理，因为prop也是会变的，不一定是一个默认值或初始值。")]),t("p",[this._v("我们更倾向组件暴露的API简洁友好，所以还是决定对data下手。Vusion中规定与prop相关的那个data变量，在前面加上"),t("code",{pre:!0},[this._v("current")]),this._v("前缀，表示当前的一种状态。比如"),t("code",{pre:!0},[this._v("currentValue")]),this._v("变量对应"),t("code",{pre:!0},[this._v("value")]),this._v("属性，"),t("code",{pre:!0},[this._v("currentPage")]),this._v("变量对应"),t("code",{pre:!0},[this._v("page")]),this._v("属性，"),t("code",{pre:!0},[this._v("currentExpanded")]),this._v("变量对应"),t("code",{pre:!0},[this._v("expanded")]),this._v("属性等。")]),t("h5",[this._v("监听属性")]),t("p",[this._v("这里需要注意的是，当变成两个变量的时候，外部传入的状态与内部状态分离，也就是说内部状态不会响应外部状态的变更。这时需要一个额外的watcher来处理。")]),t("p",[this._v("考虑到这几点，示例修改为下面的形式：")]),t("div",{staticClass:"u-example"},[t("C01868c")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"currentValue = !currentValue"')]),this._v(">")]),this._v("{{ currentValue ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Boolean")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("currentValue")]),this._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".value,\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("watch")]),this._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = value;\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h5",[this._v("双向绑定")]),t("p",[this._v("最后，为了让组件使用起来更方便，Vue2提供了"),t("code",{pre:!0},[this._v("v-model")]),this._v("和"),t("code",{pre:!0},[this._v(".sync")]),this._v("两种双向绑定语法糖，只需添加两个事件即可。")]),t("p",[t("em",[this._v("下面的例子为了让大家更好地观察双向绑定，将"),t("code",{pre:!0},[this._v("<e-checkbox>")]),this._v("组件的代码放入了components中。")])]),t("div",{staticClass:"u-example"},[t("C0ac978")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("复选框："),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-checkbox")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.checkbox"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"checked"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-checkbox")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("绑定值：{{ checked }}"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"actionscript"}},[this._v("\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(": {\n            template: `<div @click="),t("span",{attrs:{class:"hljs-string"}},[this._v('"check()"')]),this._v(">{{ currentValue ? "),t("span",{attrs:{class:"hljs-string"}},[this._v("'✓'")]),this._v(" : "),t("span",{attrs:{class:"hljs-string"}},[this._v("'&nbsp;'")]),this._v(" }}</div>`,\n            props: {\n                value: { type: Boolean, "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v(" },\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n                    currentValue: "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".value,\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = value;\n                },\n            },\n            methods: {\n                check() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue;\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", currentValue);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'update:value'")]),this._v(", currentValue);\n                }\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" { checked: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v(" };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".checkbox")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("继承Field")]),t("p",[this._v("到目前为止，我们仅仅是描述了如何按规范实现了一个表单控件，但还没有与Vusion的表单体系联系在一起。")]),t("p",[this._v("有关触发验证等功能已经封装在"),t("code",{pre:!0},[this._v("<u-field>")]),this._v("这个基类组件（或叫Mixin）中了，我们要做的只需继承一下它即可。")]),t("p",[this._v("下面是一个很简单的复选框与表单验证相关的例子——验证是否同意了服务条款。")]),t("div",{staticClass:"u-example"},[t("C74a27d")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("ref")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"form"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"复选框"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-checkbox")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.checkbox"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-checkbox")]),this._v(">")]),this._v(" 同意并遵守服务条款\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("color")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"primary"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$refs.form.validate()"')]),this._v(">")]),this._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("import")]),this._v(" { Field } "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("from")]),this._v(" "),t("span",{attrs:{class:"hljs-string"}},[this._v("'proto-ui.vusion'")]),this._v(";\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("components")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(": {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("mixins")]),this._v(": [Field],\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("template")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("`<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>`")]),this._v(",\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Boolean")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v(" },\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n                    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("currentValue")]),this._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".value,\n                };\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("watch")]),this._v(": {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = value;\n                },\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("methods")]),this._v(": {\n                check() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue;\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", currentValue);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'update:value'")]),this._v(", currentValue);\n                }\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("rules")]),this._v(": [\n                { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'boolean'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("trigger")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("message")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'您还未接受服务条款'")]),this._v(", validator(rule, value, callback) {\n                    value ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Error")]),this._v("("),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v("));\n                } },\n            ],\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".checkbox")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("事件")]),t("p",[this._v("上面我们只抛了一个"),t("code",{pre:!0},[this._v("input")]),this._v("事件。为了保证功能实现的完整性与一致性，对于一个表单控件，我们最好暴露这4种事件："),t("code",{pre:!0},[this._v("input")]),this._v("、"),t("code",{pre:!0},[this._v("change")]),this._v("、"),t("code",{pre:!0},[this._v("focus")]),this._v("和"),t("code",{pre:!0},[this._v("blur")]),this._v("。")]),t("p",[this._v("对于组件中有focusable的元素，我们照着抛出来就行；如果没有的话，我们可以用"),t("code",{pre:!0},[this._v("tabindex")]),this._v("来设置。")]),t("div",{staticClass:"u-example"},[t("Cf2be93")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"check()"')]),this._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("tabindex")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"0"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@keydown.space.prevent")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@keyup.space.prevent")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"check()"')]),this._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@focus")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onFocus"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@blur")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onBlur"')]),this._v("\n>")]),this._v("{{ currentValue ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("import")]),this._v(" { Field } "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("from")]),this._v(" "),t("span",{attrs:{class:"hljs-string"}},[this._v("'proto-ui.vusion'")]),this._v(";\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-checkbox'")]),this._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("mixins")]),this._v(": [Field],\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[this._v("type")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("Boolean")]),this._v(", "),t("span",{attrs:{class:"hljs-attr"}},[this._v("default")]),this._v(": "),t("span",{attrs:{class:"hljs-literal"}},[this._v("false")]),this._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("currentValue")]),this._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".value,\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("watch")]),this._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = value;\n        },\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("methods")]),this._v(": {\n        onFocus(e) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'focus'")]),this._v(", e);\n        },\n        onBlur(e) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", e);\n        },\n        check() {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".currentValue;\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", currentValue);\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'update:value'")]),this._v(", currentValue);\n        }\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("display")]),this._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("user-select")]),this._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("18px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("line-height")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("16px")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("border")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("1px")]),this._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[this._v("#ccc")]),this._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("text-align")]),this._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("color")]),this._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h3",[this._v("复杂示例")]),t("p",[this._v("再举一个复杂一点的例子，假设我们需要一个用户填写IP的表单控件"),t("code",{pre:!0},[this._v("<e-ip-input>")]),this._v("，表单提交时要求验证IP格式的正确性。")]),t("h4",[this._v("结构和样式")]),t("p",[this._v("同样，可以很快产出这个组件的结构和样式。")]),t("div",{staticClass:"u-example"},[t("C383ae8")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-ip-input'")]),this._v(",\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {}\n\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".input")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("60px")]),this._v(";\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("属性")]),t("p",[this._v("根据之前的约定，核心属性我们取"),t("code",{pre:!0},[this._v("value")]),this._v("而不是"),t("code",{pre:!0},[this._v("ip")]),this._v("。")]),t("div",{staticClass:"u-example"},[t("C79e811")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.root"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[0]"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[1]"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[2]"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":class")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$style.input"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("maxlength")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[3]"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-input")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"javascript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[this._v("export")]),this._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("name")]),this._v(": "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-ip-input'")]),this._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("props")]),this._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[this._v("value")]),this._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[this._v("String")]),this._v("\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[this._v("parts")]),this._v(": [],\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[this._v("watch")]),this._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("module")]),this._v(">")]),t("span",{attrs:{class:"css"}},[this._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".root")]),this._v(" {}\n\n"),t("span",{attrs:{class:"hljs-selector-class"}},[this._v(".input")]),this._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[this._v("width")]),this._v(": "),t("span",{attrs:{class:"hljs-number"}},[this._v("60px")]),this._v(";\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("style")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("单向流与双向绑定")]),t("p",[t("em",[this._v("下面的例子为了让大家更好地观察双向绑定，将"),t("code",{pre:!0},[this._v("<e-checkbox>")]),this._v("组件的代码放入了components中。")])]),t("div",{staticClass:"u-example"},[t("C21e125")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("IP框："),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-ip-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"ip"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-ip-input")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("绑定值：{{ ip }}"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("div")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"actionscript"}},[this._v("\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-ip-input'")]),this._v(": {\n            template: `<div style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"display: inline-block"')]),this._v(">\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[0]"')]),this._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[1]"')]),this._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[2]"')]),this._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[3]"')]),this._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("></u-input>\n            </div>`,\n            props: {\n                value: String\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n                    parts: [],\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                },\n            },\n            methods: {\n                onInput() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", value);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'update:value'")]),this._v(", value);\n                },\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" { ip: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("undefined")]),this._v(" };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h4",[this._v("继承Field并补全事件")]),t("div",{staticClass:"u-example"},[t("C96eb39")],1),t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("ref")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"form"')]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("label")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"IP地址"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("required")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v(":rules")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"rules"')]),this._v(">")]),this._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-ip-input")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("v-model")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"model.ip"')]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("e-ip-input")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("color")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"primary"')]),this._v(" "),t("span",{attrs:{class:"hljs-attr"}},[this._v("@click")]),this._v("="),t("span",{attrs:{class:"hljs-string"}},[this._v('"$refs.form.validate().catch(() => {})"')]),this._v(">")]),this._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-button")]),this._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form-item")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("u-form")]),this._v(">")]),this._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("template")]),this._v(">")]),this._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[this._v("<"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),t("span",{attrs:{class:"actionscript"}},[this._v("\n"),t("span",{attrs:{class:"hljs-meta"}},[t("span",{attrs:{class:"hljs-meta-keyword"}},[this._v("import")]),this._v(" { Field } from 'proto-ui.vusion';")]),this._v("\n\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("default")]),this._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[this._v("'e-ip-input'")]),this._v(": {\n            mixins: [Field],\n            template: `<div style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"display: inline-block"')]),this._v(">\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[0]"')]),this._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onChange()"')]),this._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onFocus($event)"')]),this._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onBlur($event)"')]),this._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[1]"')]),this._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onChange()"')]),this._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onFocus($event)"')]),this._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onBlur($event)"')]),this._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[2]"')]),this._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onChange()"')]),this._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onFocus($event)"')]),this._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onBlur($event)"')]),this._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[this._v('"3"')]),this._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[this._v('"parts[3]"')]),this._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onInput()"')]),this._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onChange()"')]),this._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onFocus($event)"')]),this._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[this._v('"onBlur($event)"')]),this._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[this._v('"width: 60px"')]),this._v("\n                ></u-input>\n            </div>`,\n            props: {\n                value: String\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n                    parts: [],\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                },\n            },\n            methods: {\n                onInput(partValue, index) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'input'")]),this._v(", value);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'update:value'")]),this._v(", value);\n                },\n                onChange() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'change'")]),this._v(", {\n                        value,\n                    });\n                },\n                onFocus(e) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'focus'")]),this._v(", e);\n                },\n                onBlur(e) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("this")]),this._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", e);\n                },\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("return")]),this._v(" {\n            model: {\n                ip: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("undefined")]),this._v(",\n            },\n            rules: [\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'blur'")]),this._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请填写IP'")]),this._v(" },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请填写完整的IP'")]),this._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                    parts.length === "),t("span",{attrs:{class:"hljs-number"}},[this._v("4")]),this._v(" ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" Error("),t("span",{attrs:{class:"hljs-string"}},[this._v("''")]),this._v("));\n                } },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'input+blur'")]),this._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请填写数字'")]),this._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                    parts.every((part) => !isNaN(part) && part !== "),t("span",{attrs:{class:"hljs-string"}},[this._v("''")]),this._v(") ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" Error());\n                } },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'string'")]),this._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[this._v("true")]),this._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'input+blur'")]),this._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[this._v("'请填写0-255的数字'")]),this._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[this._v("const")]),this._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[this._v("'.'")]),this._v(");\n                    parts.every((part) => "),t("span",{attrs:{class:"hljs-number"}},[this._v("0")]),this._v(" <= part && part < "),t("span",{attrs:{class:"hljs-number"}},[this._v("256")]),this._v(") ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" Error());\n                } },\n            ]\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[this._v("</"),t("span",{attrs:{class:"hljs-name"}},[this._v("script")]),this._v(">")]),this._v("\n")])]),t("h2",[this._v("FAQ")]),t("h4",[this._v("为什么要将验证逻辑放在"),t("code",{pre:!0},[this._v("<u-form-item>")]),this._v("而不是"),t("code",{pre:!0},[this._v("<u-field>")]),this._v("中？")]),t("p",[this._v("验证有一部分功能\b是关于消息提示的，这牵扯到模板的实现。如果验证逻辑放在"),t("code",{pre:!0},[this._v("<u-field>")]),this._v("中，那么就要求每个子类的模板都要实现这部分功能。一个组件最好只干一件事情，所以我们把它划到了"),t("code",{pre:!0},[this._v("<u-form-item>")]),this._v("中，虽然要添加一些组件间的通信逻辑，但这些都是必要的。")])])},staticRenderFns:[]},as=a(1)(ss,ts,!1,null,null,null);t.default=as.exports}});