webpackJsonp([2],{"/Y46":function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._2lMHrjabcgymo8EX{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={root:"_2lMHrjabcgymo8EX"}},"2D6v":function(s,a,t){var l=t("8I6B");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("653242de",l,!0,{})},"4kSN":function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._2SU0Y02B626agIQC{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={checkbox:"_2SU0Y02B626agIQC"}},"52VH":function(s,a,t){var l=t("4kSN");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("6656da67",l,!0,{})},"8I6B":function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._1I0A8tLYUBnpCbJx{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={checkbox:"_1I0A8tLYUBnpCbJx"}},"9onz":function(s,a,t){var l=t("bwqi");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("4a518dbc",l,!0,{})},DgpU:function(s,a,t){var l=t("tI62");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("4fc212f2",l,!0,{})},Jsfg:function(s,a,t){var l=t("eAXo");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("1bd3f2b0",l,!0,{})},Roc0:function(s,a,t){s.exports=t.p+"popper-1.e5c2223a1ae746fa.gif"},VFq7:function(s,a,t){var l=t("/Y46");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("0650d249",l,!0,{})},ZriP:function(s,a,t){var l=t("wEDW");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("67e1b49b",l,!0,{})},acFr:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l={render:function(){var s=this.$createElement,a=this._self._c||s;return a("u-popup",{ref:"popup"},[a("u-button",[this._v("TreeView")]),a("u-tree-view",{attrs:{slot:"popper"},on:{select:this.onSelect},slot:"popper"},[a("u-tree-view-node",{attrs:{text:"节点1"}},[a("u-tree-view-node",{attrs:{text:"节点1.1"}}),a("u-tree-view-node",{attrs:{text:"节点1.2"}},[a("u-tree-view-node",{attrs:{text:"节点1.2.1"}}),a("u-tree-view-node",{attrs:{text:"节点1.2.2"}})],1),a("u-tree-view-node",{attrs:{text:"节点1.3"}}),a("u-tree-view-node",{attrs:{text:"节点1.4"}})],1),a("u-tree-view-node",{attrs:{text:"节点2"}}),a("u-tree-view-node",{attrs:{text:"节点3"}},[a("u-tree-view-node",{attrs:{text:"节点3.1"}}),a("u-tree-view-node",{attrs:{text:"节点3.2"}})],1)],1)],1)},staticRenderFns:[]},n={components:{"c-2b31b44f":t("jBkQ")({name:"u-tree-select",methods:{onSelect:function(){this.$refs.popup.toggle(!1)}}},l,!1,null,null,null).exports}},r={render:function(){var s=this,a=s.$createElement,l=s._self._c||a;return l("u-article",[l("h1",[s._v("弹出层系列")]),l("p",[s._v("在前端页面开发中，经常会遇到工具提示、下拉菜单、选择框、日期选择等这类组件，它们都有一个共性，就是弹出层功能。")]),l("p",[s._v("简单的悬浮提示我们可以用如下 CSS 很快实现它。")]),l("pre",{pre:!0,attrs:{class:"hljs lang-css"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-selector-class"}},[s._v(".popper")]),s._v(" { "),l("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": none; }\n"),l("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),l("span",{attrs:{class:"hljs-selector-pseudo"}},[s._v(":hover")]),s._v(" "),l("span",{attrs:{class:"hljs-selector-class"}},[s._v(".popper")]),s._v(" { "),l("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": block; }\n")])]),l("p",[s._v("但遇到需要"),l("code",{pre:!0},[s._v("click")]),s._v("事件触发，或者不一定是父子元素的情况，就有些捉襟见肘了。")]),l("p",[s._v("有时同学会封装一个单纯的"),l("code",{pre:!0},[s._v("v-click-outside")]),s._v("指令，来临时解决关闭弹出层的效果，但这需要补充一些额外的代码来完成。不同的组件相同的逻辑，势必包含了一些冗余的工作。")]),l("p",[s._v("而且由于组件在页面中位置的不确定性，简单的弹出层不能处理边缘情况。例如，对于"),l("code",{pre:!0},[s._v("overflow: visible")]),s._v("的容器，可能会造成页面的抖动；而对于"),l("code",{pre:!0},[s._v("overflow")]),s._v("其他值的容器，又需要滚动才能完全显示。")]),l("p",[l("img",{attrs:{src:t("Roc0"),alt:"边缘情况"}})]),l("p",[s._v("这时就急需一个基础组件，能够“填”以上各种情况的“坑”。")]),l("h2",[s._v("功能设计")]),l("h3",[s._v("弹出层 "),l("u-link",{attrs:{href:"/proto-ui/u-popper"}},[s._v("Popper")])],1),l("p",[s._v("目前市面上有的一个流行的开源库 "),l("u-link",{attrs:{href:"https://popper.js.org/"}},[s._v("Popper.js")]),s._v("，它较好地解决了边缘情况、位置计算等问题。")],1),l("p",[s._v("Proto UI 中的 "),l("u-link",{attrs:{href:"/proto-ui/u-popper"}},[s._v("Popper 组件")]),s._v("就是用 Vue 对它作了一层封装。")],1),l("h4",[s._v("插槽")]),l("p",[s._v("我们可以发现，前面提到的那些弹出层相关组件，都需要具备一个"),l("strong",[s._v("触发节点（参考节点）"),l("strong",[s._v("和")]),s._v("弹出层节点")]),s._v("。")]),l("blockquote",[l("p",[s._v("这里使用“触发节点”一词比“触发元素”更合适，因为有时节点是一个组件。")])]),l("p",[l("code",{pre:!0},[s._v("<u-popper>")]),s._v("就是这样设计的，它的基本用法如下：")]),l("u-example",[l("div",[l("u-popper",[l("u-button",[s._v("click")]),l("div",{attrs:{slot:"popper"},slot:"popper"},[l("u-block",[s._v("popper")])],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popper")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("click"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-block")]),s._v(">")]),s._v("popper"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-block")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popper")]),s._v(">")]),s._v("\n")])])])]),l("p",[s._v("默认的 slot 用于表示触发节点（参考节点），popper slot 用于表示弹出层节点。由于 Vue 的限制，每个 slot 中只能有一个根节点。")]),l("h4",[s._v("触发方式")]),l("p",[s._v("Proto UI 中设计了5种触发方式："),l("code",{pre:!0},[s._v("'click'")]),s._v(", "),l("code",{pre:!0},[s._v("'hover'")]),s._v(", "),l("code",{pre:!0},[s._v("'right-click'")]),s._v(", "),l("code",{pre:!0},[s._v("'double-click'")]),s._v(", "),l("code",{pre:!0},[s._v("'manual'")]),s._v("。")]),l("h4",[s._v("开关属性")]),l("p",[s._v("所有的弹出层统一使用"),l("code",{pre:!0},[s._v("open")]),s._v("属性来表示弹出状态，支持用"),l("code",{pre:!0},[s._v(".sync")]),s._v("方式进行双向绑定，不支持"),l("code",{pre:!0},[s._v("v-model")]),s._v("（因为它不是一个表单特性）。")]),l("h4",[s._v("弹出位置")]),l("p",[s._v("与 Popper.js 相同，有12种弹出位置："),l("code",{pre:!0},[s._v("'top'")]),s._v(", "),l("code",{pre:!0},[s._v("'bottom'")]),s._v(", "),l("code",{pre:!0},[s._v("'left'")]),s._v(", "),l("code",{pre:!0},[s._v("'right'")]),s._v(", "),l("code",{pre:!0},[s._v("'top-start'")]),s._v(", "),l("code",{pre:!0},[s._v("'top-end'")]),s._v(", "),l("code",{pre:!0},[s._v("'bottom-start'")]),s._v(", "),l("code",{pre:!0},[s._v("'bottom-end'")]),s._v(", "),l("code",{pre:!0},[s._v("'left-start")]),s._v("',"),l("code",{pre:!0},[s._v("'left-end'")]),s._v(", "),l("code",{pre:!0},[s._v("'right-start'")]),s._v(", "),l("code",{pre:!0},[s._v("'right-end'")]),s._v("。")]),l("h3",[s._v("弹出框 "),l("u-link",{attrs:{href:"/proto-ui/u-popup"}},[s._v("Popup")])],1),l("p",[l("code",{pre:!0},[s._v("<u-popper>")]),s._v("它本身没有模板和样式，是解决弹出层问题的抽象组件。"),l("code",{pre:!0},[s._v("<u-popup>")]),s._v("在它的基础上具体化，带有三角箭头，并可以在不同插槽填充一些内容。")]),l("u-example",[l("div",[l("u-linear-layout",[l("u-popup",{attrs:{content:"使用 content 属性添加内容"}},[l("u-button",[s._v("内容")])],1),l("u-popup",{attrs:{title:"标题",content:"使用 title 属性添加标题"}},[l("u-button",[s._v("标题")])],1),l("u-popup",[l("u-button",[s._v("使用 slot")]),l("span",{attrs:{slot:"title"},slot:"title"},[s._v("标题 "),l("u-badge",{attrs:{value:3}})],1),l("span",{attrs:{slot:"content"},slot:"content"},[s._v("使用 "),l("u-link",[s._v("slot")]),s._v(" 可以添加一些复杂功能")],1)],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"使用 content 属性添加内容"')]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("内容"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"标题"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"使用 title 属性添加标题"')]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("标题"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("使用 slot"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(">")]),s._v("标题 "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-badge")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v(":value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-badge")]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"content"')]),s._v(">")]),s._v("使用 "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-link")]),s._v(">")]),s._v("slot"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-link")]),s._v(">")]),s._v(" 可以添加一些复杂功能"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n")])])])]),l("h4",[s._v("自定义")]),l("p",[s._v("使用 popper slot 可以很方便的重新自定义内容，与"),l("code",{pre:!0},[s._v("<u-menu>")]),s._v("组件结合就是 Dropdown 下拉菜单，与"),l("code",{pre:!0},[s._v("<u-calendar>")]),s._v("组件结合就是 DatePicker，与"),l("code",{pre:!0},[s._v("<u-pallette>")]),s._v("组件（调色板）结合就是 ColorPicker，与"),l("code",{pre:!0},[s._v("<u-tree-view>")]),s._v("组件结合就是树型选择。")]),l("u-example",[l("div",[l("u-linear-layout",[l("u-popup",[l("u-button",[s._v("Dropdown")]),l("u-menu",{attrs:{slot:"popper",value:"3",router:!1},slot:"popper"},[l("u-menu-item",{attrs:{value:"1"}},[s._v("指南")]),l("u-menu-item",{attrs:{value:"2"}},[s._v("概念")]),l("u-menu-item",{attrs:{value:"3"}},[s._v("组件")])],1)],1),l("u-popup",[l("u-button",[s._v("TreeView")]),l("u-tree-view",{attrs:{slot:"popper"},slot:"popper"},[l("u-tree-view-node",{attrs:{text:"节点1"}},[l("u-tree-view-node",{attrs:{text:"节点1.1"}}),l("u-tree-view-node",{attrs:{text:"节点1.2"}},[l("u-tree-view-node",{attrs:{text:"节点1.2.1"}}),l("u-tree-view-node",{attrs:{text:"节点1.2.2"}})],1),l("u-tree-view-node",{attrs:{text:"节点1.3"}}),l("u-tree-view-node",{attrs:{text:"节点1.4"}})],1),l("u-tree-view-node",{attrs:{text:"节点2"}}),l("u-tree-view-node",{attrs:{text:"节点3"}},[l("u-tree-view-node",{attrs:{text:"节点3.1"}}),l("u-tree-view-node",{attrs:{text:"节点3.2"}})],1)],1)],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("Dropdown"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v(":router")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"false"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"1"')]),s._v(">")]),s._v("指南"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"2"')]),s._v(">")]),s._v("概念"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),s._v("组件"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("TreeView"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1"')]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2"')]),s._v(">")]),s._v("\n                    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2.2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.3"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.4"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3"')]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3.2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n")])])])]),l("p",[s._v("唯一可能需要补充的逻辑就是选择后自动关闭弹出层，这个可以在封装后的组件中处理。")]),l("u-example",[l("div",[l("c-2b31b44f")],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popup"')]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("TreeView"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(" @"),l("span",{attrs:{class:"hljs-attr"}},[s._v("select")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"onSelect"')]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2"')]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.2.2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.3"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点1.4"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3.1"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"节点3.2"')]),s._v(">")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view-node")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-tree-view")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),l("span",{attrs:{class:"javascript"}},[s._v("\n"),l("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),l("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),l("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),l("span",{attrs:{class:"hljs-string"}},[s._v("'u-tree-select'")]),s._v(",\n    "),l("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n        onSelect() {\n            "),l("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.popup.toggle("),l("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(");\n        },\n    },\n};\n")]),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),l("blockquote",[l("p",[s._v("具体业务中可以扩展箭头样式，如果不需要可直接使用"),l("code",{pre:!0},[s._v("<u-popper>")]),s._v("。")])]),l("h2",[s._v("相关组件")]),l("h3",[s._v("工具提示 "),l("u-link",{attrs:{href:"/proto-ui/u-tooltip"}},[s._v("Tooltip")])],1),l("p",[s._v("工具提示与弹出框 Popup 类似，只是样式上的不同，并且将默认的触发方式设置为"),l("code",{pre:!0},[s._v("hover")]),s._v("。依然由默认 slot 来设置触发节点。")]),l("p",[s._v("工具提示有一个便捷指令操作"),l("code",{pre:!0},[s._v("v-tooltip")]),s._v("。")]),l("h3",[s._v("菜单 "),l("u-link",{attrs:{href:"/proto-ui/u-menu"}},[s._v("Menu")])],1),l("p",[s._v("Proto UI 中没有专门设计 Dropdown 组件，因为它本身的触发节点是不确定的，而且完全可以由"),l("code",{pre:!0},[s._v("<u-popper>")]),s._v("或"),l("code",{pre:!0},[s._v("<u-popup>")]),s._v("与"),l("code",{pre:!0},[s._v("<u-menu>")]),s._v("组合来实现。")]),l("u-example",[l("div",[l("u-linear-layout",[l("u-popup",[l("u-button",[s._v("Popup 菜单")]),l("u-menu",{attrs:{slot:"popper"},slot:"popper"},[l("u-menu-item",{attrs:{to:"/guides/"}},[s._v("指南")]),l("u-menu-item",{attrs:{to:"/api/"}},[s._v("API")]),l("u-menu-item",{attrs:{to:"/proto-ui/"}},[s._v("原型组件")]),l("u-menu-item",{attrs:{href:"https://github.com/vusion"}},[s._v("GitHub")])],1)],1),l("u-popper",[l("u-button",[s._v("Popper 菜单")]),l("u-menu",{staticStyle:{width:"128px"},attrs:{slot:"popper",value:"3",router:!1},slot:"popper"},[l("u-menu-item",{attrs:{to:"/guides/"}},[s._v("指南")]),l("u-menu-item",{attrs:{to:"/api/"}},[s._v("API")]),l("u-menu-item",{attrs:{to:"/proto-ui/"}},[s._v("原型组件")]),l("u-menu-item",{attrs:{href:"https://github.com/vusion"}},[s._v("GitHub")])],1)],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("Popup 菜单"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/guides/"')]),s._v(">")]),s._v("指南"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/api/"')]),s._v(">")]),s._v("API"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/"')]),s._v(">")]),s._v("原型组件"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"https://github.com/vusion"')]),s._v(">")]),s._v("GitHub"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popper")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("Popper 菜单"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v(":router")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"false"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"width: 128px"')]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/guides/"')]),s._v(">")]),s._v("指南"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/api/"')]),s._v(">")]),s._v("API"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/"')]),s._v(">")]),s._v("原型组件"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"https://github.com/vusion"')]),s._v(">")]),s._v("GitHub"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popper")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n")])])])]),l("p",[s._v("并且目前也支持多级菜单：")]),l("u-example",[l("div",[l("u-popup",[l("u-button",[s._v("多级菜单")]),l("u-menu",{staticStyle:{width:"200px"},attrs:{slot:"popper"},slot:"popper"},[l("u-menu-item",[s._v("指南")]),l("u-menu-item",[s._v("API\n            "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",{attrs:{to:"/api/cli"}},[s._v("命令行工具（CLI）")]),l("u-menu-item",{attrs:{to:"/api/config"}},[s._v("配置")])],1)],1),l("u-menu-item",[s._v("组件\n            "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",[s._v("原型组件\n                    "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",[s._v("Basic\n                            "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",{attrs:{to:"/proto-ui/u-link"}},[s._v("链接 Link")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-button"}},[s._v("按钮 Button")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-badge"}},[s._v("徽章 Badge")])],1)],1),l("u-menu-item",[s._v("Navigation\n                            "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",{attrs:{to:"/proto-ui/u-navbar"}},[s._v("导航栏 Navbar")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-sidebar"}},[s._v("侧边栏 Sidebar")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-menu"}},[s._v("菜单 Menu")])],1)],1),l("u-menu-item",[s._v("Popper\n                            "),l("u-menu",{attrs:{slot:"sub"},slot:"sub"},[l("u-menu-item",{attrs:{to:"/proto-ui/u-popper"}},[s._v("弹出层 Popper")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-tooltip"}},[s._v("工具提示 Tooltip")]),l("u-menu-item",{attrs:{to:"/proto-ui/u-popup"}},[s._v("弹出框 Popup")])],1)],1)],1)],1),l("u-menu-item",{attrs:{to:"/ui-design"}},[s._v("组件设计方案")])],1)],1),l("u-menu-item",{attrs:{target:"_blank",href:"https://github.com/vusion"}},[s._v("GitHub")])],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("多级菜单"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"popper"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"width: 200px;"')]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("指南"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("API\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/api/cli"')]),s._v(">")]),s._v("命令行工具（CLI）"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/api/config"')]),s._v(">")]),s._v("配置"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("组件\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("原型组件\n                    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("Basic\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-link"')]),s._v(">")]),s._v("链接 Link"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-button"')]),s._v(">")]),s._v("按钮 Button"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-badge"')]),s._v(">")]),s._v("徽章 Badge"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("Navigation\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-navbar"')]),s._v(">")]),s._v("导航栏 Navbar"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-sidebar"')]),s._v(">")]),s._v("侧边栏 Sidebar"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-menu"')]),s._v(">")]),s._v("菜单 Menu"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("Popper\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"sub"')]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-popper"')]),s._v(">")]),s._v("弹出层 Popper"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-tooltip"')]),s._v(">")]),s._v("工具提示 Tooltip"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/proto-ui/u-popup"')]),s._v(">")]),s._v("弹出框 Popup"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n                        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n                "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"/ui-design"')]),s._v(">")]),s._v("组件设计方案"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n            "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"_blank"')]),s._v(" "),l("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),l("span",{attrs:{class:"hljs-string"}},[s._v('"https://github.com/vusion"')]),s._v(">")]),s._v("GitHub"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu-item")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-menu")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-popup")]),s._v(">")]),s._v("\n")])])])]),l("h3",[s._v("其它组件")]),l("p",[s._v("以下这些是在"),l("code",{pre:!0},[s._v("<u-popper>")]),s._v("或"),l("code",{pre:!0},[s._v("<u-popup>")]),s._v("基础上封装后的组件，"),l("code",{pre:!0},[s._v("<u-date-picker>")]),s._v("、"),l("code",{pre:!0},[s._v("<u-color-picker>")]),s._v("正在路上。。")]),l("u-example",[l("div",[l("u-linear-layout",[l("u-select",[l("u-select-item",[s._v("苹果")]),l("u-select-item",[s._v("香蕉")]),l("u-select-item",[s._v("蛋糕")])],1)],1)],1),l("div",{attrs:{slot:"code"},slot:"code"},[l("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[l("code",{attrs:{"v-pre":""}},[l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("苹果"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("香蕉"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n        "),l("span",{attrs:{class:"hljs-tag"}},[s._v("<"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("蛋糕"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n    "),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-select")]),s._v(">")]),s._v("\n"),l("span",{attrs:{class:"hljs-tag"}},[s._v("</"),l("span",{attrs:{class:"hljs-name"}},[s._v("u-linear-layout")]),s._v(">")]),s._v("\n")])])])])],1)},staticRenderFns:[]},v=t("jBkQ")(n,r,!1,null,null,null);a.default=v.exports},agm2:function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._13eZ-Hwstw71LD-c{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={root:"_13eZ-Hwstw71LD-c"}},bwqi:function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,".wh0L40lpYXO7hxoR{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={root:"wh0L40lpYXO7hxoR"}},eAXo:function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._3DWKG7OPA83I_Wki{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:18px;height:18px;line-height:16px;border:1px solid #ccc;text-align:center;color:#1ba67e}",""]),a.locals={root:"_3DWKG7OPA83I_Wki"}},h15O:function(s,a,t){var l=t("agm2");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);t("Elvh")("3f15df5a",l,!0,{})},qrV7:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l={render:function(){var s=this.$createElement,a=this._self._c||s;return a("u-form",{attrs:{rules:this.rules}},[a("u-form-item",{attrs:{label:"用户名",name:"username"}},[a("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),a("u-form-item",{attrs:{label:"邮箱",name:"email"}},[a("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},n=t("jBkQ")({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"blur",message:"邮箱格式不正确"}]}}}},l,!1,null,null,null).exports,r={data:function(){var s=this;return{model:{password:"",confirm:""},rules:{password:[{type:"string",required:!0,trigger:"blur",message:"请输入密码"},{type:"string",min:6,max:12,trigger:"blur",message:"6~12个字符"}],confirm:[{type:"string",required:!0,trigger:"blur",message:"两次输入的密码不一致",validator:function(a,t,l){t===s.model.password?l():l(new Error)}}]}}}},v={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("u-form",{attrs:{rules:s.rules}},[t("u-form-item",{attrs:{label:"密码",name:"password"}},[t("u-input",{attrs:{type:"password",maxlength:"12",placeholder:"6~12个字符"},model:{value:s.model.password,callback:function(a){s.$set(s.model,"password",a)},expression:"model.password"}})],1),t("u-form-item",{attrs:{label:"确认密码",name:"confirm"}},[t("u-input",{attrs:{type:"password",maxlength:"12",placeholder:"6~12个字符"},model:{value:s.model.confirm,callback:function(a){s.$set(s.model,"confirm",a)},expression:"model.confirm"}})],1),t("u-form-item",[t("u-button",[s._v("设置")])],1)],1)},staticRenderFns:[]},_=t("jBkQ")(r,v,!1,null,null,null).exports,e={data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"},{type:"string",required:!0,trigger:"blur",message:"该用户名已被使用",validator:function(s,a,t){(function(s){return new Promise(function(a,t){["aaaa","abcd","1234"].includes(s)?t("该用户名已被使用"):a()})})(a).then(function(){return t()}).catch(function(s){return t(new Error(s))})}}]}}}},p={render:function(){var s=this.$createElement,a=this._self._c||s;return a("u-form",{attrs:{rules:this.rules}},[a("u-form-item",{attrs:{label:"用户名",name:"username"}},[a("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1)],1)},staticRenderFns:[]},c=t("jBkQ")(e,p,!1,null,null,null).exports,h={data:function(){return{rules:{username:[{type:"string",required:!0,message:"请输入用户名"},{type:"string",min:4,max:12,message:"请输入4~12个字符"}],email:[{type:"string",required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}]}}},methods:{submit:function(){this.$refs.form.validate().then(function(){return alert("提交成功")}).catch(function(){})}}},i={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("u-form",{ref:"form",attrs:{rules:s.rules}},[t("u-form-item",{attrs:{label:"用户名",name:"username"}},[t("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),t("u-form-item",{attrs:{label:"邮箱",name:"email"}},[t("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"},on:{click:function(a){s.submit()}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},u=t("jBkQ")(h,i,!1,null,null,null).exports,j={render:function(){var s=this.$createElement,a=this._self._c||s;return a("u-form",{ref:"form",attrs:{rules:this.rules}},[a("u-form-item",{attrs:{label:"用户名",name:"username"}},[a("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),a("u-form-item",{attrs:{label:"邮箱",name:"email"}},[a("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},o=t("jBkQ")({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"blur",message:"邮箱格式不正确"}]}}}},j,!1,null,null,null).exports,m={render:function(){var s=this.$createElement,a=this._self._c||s;return a("u-form",{ref:"form",attrs:{rules:this.rules}},[a("u-form-item",{attrs:{label:"用户名",name:"username"}},[a("u-input",{attrs:{maxlength:"12",placeholder:"4~12个字符"}})],1),a("u-form-item",{attrs:{label:"邮箱",name:"email"}},[a("u-input",{attrs:{maxlength:"24",placeholder:"请输入邮箱"}})],1)],1)},staticRenderFns:[]},g=t("jBkQ")({data:function(){return{rules:{username:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",min:4,max:12,trigger:"input+blur",message:"请输入4~12个字符"}],email:[{type:"string",required:!0,trigger:"blur",message:"请输入邮箱"},{type:"email",trigger:"input",message:"邮箱格式不正确"}]}}}},m,!1,null,null,null).exports,d={render:function(){var s=this.$createElement;return(this._self._c||s)("div",{class:this.$style.root},[this._v("✓")])},staticRenderFns:[]},b={};var f=t("jBkQ")({name:"e-checkbox"},d,!1,function(s){b.$style=t("9onz"),this.$style=b.$style},null,null).exports,y={name:"e-checkbox",props:{value:{type:Boolean,default:!0}}},x={render:function(){var s=this,a=s.$createElement;return(s._self._c||a)("div",{class:s.$style.root,on:{click:function(a){s.value=!s.value}}},[s._v(s._s(s.value?"✓":" "))])},staticRenderFns:[]},k={};var w=t("jBkQ")(y,x,!1,function(s){k.$style=t("h15O"),this.$style=k.$style},null,null).exports,$={name:"e-checkbox",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}}},V={render:function(){var s=this,a=s.$createElement;return(s._self._c||a)("div",{class:s.$style.root,on:{click:function(a){s.currentValue=!s.currentValue}}},[s._v(s._s(s.currentValue?"✓":" "))])},staticRenderFns:[]},B={};var I=t("jBkQ")($,V,!1,function(s){B.$style=t("Jsfg"),this.$style=B.$style},null,null).exports,q={components:{"e-checkbox":{template:"<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{checked:!1}}},F={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",[t("div",[s._v("复选框："),t("e-checkbox",{class:s.$style.checkbox,model:{value:s.checked,callback:function(a){s.checked=a},expression:"checked"}})],1),t("div",[s._v("绑定值："+s._s(s.checked))])])},staticRenderFns:[]},P={};var E=t("jBkQ")(q,F,!1,function(s){P.$style=t("52VH"),this.$style=P.$style},null,null).exports,Q=t("E7dH"),S={components:{"e-checkbox":{mixins:[Q.Field],template:"<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>",props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{rules:[{type:"boolean",required:!0,trigger:"input",message:"您还未接受服务条款",validator:function(s,a,t){a?t():t(new Error(!1))}}]}}},A={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("u-form",{ref:"form"},[t("u-form-item",{attrs:{label:"复选框",required:"",rules:s.rules}},[t("e-checkbox",{class:s.$style.checkbox}),s._v(" 同意并遵守服务条款\n    ")],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"},on:{click:function(a){s.$refs.form.validate()}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},R={};var C=t("jBkQ")(S,A,!1,function(s){R.$style=t("2D6v"),this.$style=R.$style},null,null).exports,D={name:"e-checkbox",mixins:[Q.Field],props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},watch:{value:function(s){this.currentValue=s}},methods:{onFocus:function(s){this.$emit("focus",s)},onBlur:function(s){this.$emit("blur",s)},check:function(){var s=this.currentValue=!this.currentValue;this.$emit("input",s),this.$emit("update:value",s)}}},z={render:function(){var s=this,a=s.$createElement;return(s._self._c||a)("div",{class:s.$style.root,attrs:{tabindex:"0"},on:{click:function(a){s.check()},keydown:function(a){if(!("button"in a)&&s._k(a.keyCode,"space",32,a.key," "))return null;a.preventDefault()},keyup:function(a){if(!("button"in a)&&s._k(a.keyCode,"space",32,a.key," "))return null;a.preventDefault(),s.check()},focus:s.onFocus,blur:s.onBlur}},[s._v(s._s(s.currentValue?"✓":" "))])},staticRenderFns:[]},H={};var G=t("jBkQ")(D,z,!1,function(s){H.$style=t("VFq7"),this.$style=H.$style},null,null).exports,L={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{class:s.$style.root},[t("u-input",{class:s.$style.input,attrs:{maxlength:"3"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"}})],1)},staticRenderFns:[]},Z={};var T=t("jBkQ")({name:"e-ip-input"},L,!1,function(s){Z.$style=t("ZriP"),this.$style=Z.$style},null,null).exports,U={name:"e-ip-input",props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}}},N={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{class:s.$style.root},[t("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[0],callback:function(a){s.$set(s.parts,0,a)},expression:"parts[0]"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[1],callback:function(a){s.$set(s.parts,1,a)},expression:"parts[1]"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[2],callback:function(a){s.$set(s.parts,2,a)},expression:"parts[2]"}}),s._v(" .\n    "),t("u-input",{class:s.$style.input,attrs:{maxlength:"3"},model:{value:s.parts[3],callback:function(a){s.$set(s.parts,3,a)},expression:"parts[3]"}})],1)},staticRenderFns:[]},O={};var Y=t("jBkQ")(U,N,!1,function(s){O.$style=t("DgpU"),this.$style=O.$style},null,null).exports,M={components:{"e-ip-input":{template:'<div style="display: inline-block">\n                <u-input maxlength="3" v-model="parts[0]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[1]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[2]" @input="onInput()" style="width: 60px"></u-input> .\n                <u-input maxlength="3" v-model="parts[3]" @input="onInput()" style="width: 60px"></u-input>\n            </div>',props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}},methods:{onInput:function(){var s=this.parts.join(".");this.$emit("input",s),this.$emit("update:value",s)}}}},data:function(){return{ip:void 0}}},W={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",[t("div",[s._v("IP框："),t("e-ip-input",{model:{value:s.ip,callback:function(a){s.ip=a},expression:"ip"}})],1),t("div",[s._v("绑定值："+s._s(s.ip))])])},staticRenderFns:[]},X=t("jBkQ")(M,W,!1,null,null,null).exports,J={components:{"e-ip-input":{mixins:[Q.Field],template:'<div style="display: inline-block">\n                <u-input maxlength="3" v-model="parts[0]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[1]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[2]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input> .\n                <u-input maxlength="3" v-model="parts[3]"\n                    @input="onInput()" @change="onChange()" @focus="onFocus($event)" @blur="onBlur($event)"\n                    style="width: 60px"\n                ></u-input>\n            </div>',props:{value:String},data:function(){return{parts:[]}},watch:{value:function(s){this.parts=s.split(".")}},methods:{onInput:function(s,a){var t=this.parts.join(".");this.$emit("input",t),this.$emit("update:value",t)},onChange:function(){var s=this.parts.join(".");this.$emit("change",{value:s})},onFocus:function(s){this.$emit("focus",s)},onBlur:function(s){this.$emit("blur",s)}}}},data:function(){return{model:{ip:void 0},rules:[{type:"string",required:!0,trigger:"blur",message:"请填写IP"},{type:"string",required:!0,message:"请填写完整的IP",validator:function(s,a,t){4===a.split(".").length?t():t(new Error(""))}},{type:"string",required:!0,trigger:"input+blur",message:"请填写数字",validator:function(s,a,t){a.split(".").every(function(s){return!isNaN(s)&&""!==s})?t():t(new Error)}},{type:"string",required:!0,trigger:"input+blur",message:"请填写0-255的数字",validator:function(s,a,t){a.split(".").every(function(s){return 0<=s&&s<256})?t():t(new Error)}}]}}},K={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("u-form",{ref:"form"},[t("u-form-item",{attrs:{label:"IP地址",required:"",rules:s.rules}},[t("e-ip-input",{model:{value:s.model.ip,callback:function(a){s.$set(s.model,"ip",a)},expression:"model.ip"}})],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"},on:{click:function(a){s.$refs.form.validate().catch(function(){})}}},[s._v("提交")])],1)],1)},staticRenderFns:[]},ss={components:{"c-2d1a0426":n,"c-7e18f637":_,"c-33760739":c,"c-e8b15f8e":u,"c-00ee769a":o,"c-6ca5f59a":g,"c-6f4e976a":f,"c-5bdf3667":w,"c-47c1e1f5":I,"c-04df28ea":E,"c-65ca7611":C,"c-886b753c":G,"c-61bd8802":T,"c-c8820c5e":Y,"c-fe024534":X,"c-6a690f86":t("jBkQ")(J,K,!1,null,null,null).exports}},as={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("u-article",[t("h1",[s._v("表单系列")]),t("p",[s._v("一般来说，表单是Web应用中最常见，最重要，也是最复杂的交互形式之一，表单系列组件设计的好坏很大程度决定了整个应用实现的质量。")]),t("p",[s._v("表单的布局样式比较统一，但会有许多如规则验证、数据比较、数据缓存等复杂的通用逻辑。由于原生表单元素样式简陋，功能单薄，对SPA不友好，不具备处理这些复杂问题的能力，因此必须在原生元素基础上作一层封装。")]),t("h2",[s._v("相关组件")]),t("h3",[s._v("示例")]),t("p",[s._v("比如下面的例子是一个简单的填写个人信息的表单：")]),t("u-example",[t("div",[t("u-form",[t("u-form-item",{attrs:{label:"性别"}},[t("u-radios",{attrs:{value:"男"}},[t("u-radio",{attrs:{label:"男"}},[s._v("男")]),t("u-radio",{attrs:{label:"女"}},[s._v("女")])],1)],1),t("u-form-item",{attrs:{label:"昵称",required:""}},[t("u-input",{attrs:{maxlength:"20",placeholder:"不得超过20个字符"}})],1),t("u-form-item",{attrs:{label:"手机",required:""}},[t("u-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"}})],1),t("u-form-item",{attrs:{label:"自我介绍"}},[t("u-textarea")],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"}},[s._v("提交")])],1)],1)],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"性别"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radios")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"男"')]),s._v(">")]),s._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radio")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"男"')]),s._v(">")]),s._v("男"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radio")]),s._v(">")]),s._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radio")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"女"')]),s._v(">")]),s._v("女"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radio")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-radios")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"昵称"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"20"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"不得超过20个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"手机"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"11"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入手机号"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"自我介绍"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-textarea")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-textarea")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(">")]),s._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n")])])])]),t("p",[s._v("根据日常经验，我们可以归纳出与表单相关的组件有以下几种：")]),t("h4",[s._v("表单 "),t("u-link",{attrs:{href:"/proto-ui/u-form"}},[s._v("Form")])],1),t("p",[s._v("用于整体布局，集中设置属性，统一暴露事件和方法。")]),t("h4",[s._v("表单组 FormGroup")]),t("p",[s._v("针对表单项进行分组，主要用于布局，可能会有分组组件常见的折叠功能。")]),t("h4",[s._v("表单项 FormItem")]),t("p",[s._v("用于排列表单标签与控件的位置，必选提示，规则验证等。")]),t("h4",[s._v("表单域（表单控件） Field")]),t("p",[s._v("作为各种表单域（表单控件）的基类，用于触发FormItem的验证等功能。")]),t("p",[s._v("比如常见的："),t("code",{pre:!0},[s._v("<u-input>")]),s._v("、"),t("code",{pre:!0},[s._v("<u-select>")]),s._v("、"),t("code",{pre:!0},[s._v("<u-radios>")]),s._v("、"),t("code",{pre:!0},[s._v("<u-date-picker>")]),s._v("等。")]),t("p",[s._v("页面上有很多组件，通常我们可以认为：")]),t("blockquote",[t("p",[s._v("如果一个组件可以通过表单对后端数据进行读写操作的，那么它就是一个"),t("strong",[s._v("表单控件")]),s._v("。")])]),t("h2",[s._v("功能设计")]),t("h3",[s._v("布局")]),t("p",[s._v("表单除了一般上面的纵向布局，某些情况也会有行内布局。")]),t("u-example",[t("div",[t("u-form",{attrs:{layout:"inline","label-size":"auto"}},[t("u-form-item",{attrs:{label:"状态"}},[t("u-select",[t("u-select-item",[s._v("创建中")]),t("u-select-item",[s._v("成功")]),t("u-select-item",[s._v("失败")])],1)],1),t("u-form-item",{attrs:{label:"用户名"}},[t("u-input",{attrs:{maxlength:"20",placeholder:"请输入用户名"}})],1),t("u-form-item",{attrs:{label:"手机"}},[t("u-input",{attrs:{maxlength:"11",placeholder:"请输入手机"}})],1),t("u-form-item",[t("u-button",{attrs:{color:"primary"}},[s._v("查询")])],1)],1)],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("layout")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"inline"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label-size")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"auto"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"状态"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select")]),s._v(">")]),s._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("创建中"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("成功"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n            "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("失败"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select-item")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-select")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"20"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入用户名"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"手机"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"11"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入手机"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(">")]),s._v("查询"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n")])])])]),t("p",[t("code",{pre:!0},[s._v("<u-form>")]),s._v("提供了一个"),t("code",{pre:!0},[s._v("layout")]),s._v("属性，它有两个可选值："),t("code",{pre:!0},[s._v("block")]),s._v("和"),t("code",{pre:!0},[s._v("inline")]),s._v("，以后还可能有其它的值。")]),t("h3",[s._v("验证")]),t("p",[s._v("表单验证是表单的核心功能。我们希望各个表单控件都可以统一走表单的验证流程，而不是额外编写代码。因此，设计组件的时候需考虑得尽可能通用和全面，它至少要包含以下功能：")]),t("ul",[t("li",[s._v("规则列表")]),t("li",[s._v("规则扩充")]),t("li",[s._v("异步验证")]),t("li",[s._v("触发方式")])]),t("p",[s._v("下面一一展开。")]),t("h4",[s._v("规则列表")]),t("p",[s._v("一个表单项的验证规则用一个对象来表示是不够的，因为往往不同的验证情况会有不同的提示消息和不同的触发方式。")]),t("p",[s._v("比如下面的例子，一个用户名输入框的验证规则：")]),t("ol",[t("li",[s._v("必须输入用户名，失焦验证")]),t("li",[s._v("以字母开头，实时验证")]),t("li",[s._v("字母、数字或中划线组成，实时验证")]),t("li",[s._v("以字母或数字结尾，失焦验证")]),t("li",[s._v("4~12个字符，失焦验证")])]),t("p",[s._v("我们必须用一个有序列表"),t("code",{pre:!0},[s._v("rules")]),s._v("来表示，列表中包含若干条验证规则对象。结构如下：")]),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[s._v("[{ "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", ... }, { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", ... }, { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": ... }, ...]\n")])]),t("p",[s._v("每条规则对象通常有以下几个参数：")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("type")]),s._v("：数据类型")]),t("li",[t("code",{pre:!0},[s._v("trigger")]),s._v("：触发方式")]),t("li",[t("code",{pre:!0},[s._v("message")]),s._v("：验证不通过时的消息提示")]),t("li",[s._v("...")])]),t("p",[s._v("上面提到的例子可以用下面的规则列表来表示：")]),t("u-example",[t("div",[t("u-form-item",{attrs:{label:"用户名",rules:[{type:"string",required:!0,trigger:"blur",message:"请输入用户名"},{type:"string",pattern:/^[a-zA-Z]/,trigger:"input+blur",message:"以字母开头"},{type:"string",pattern:/^[a-zA-Z0-9-]+$/,trigger:"input+blur",message:"字母、数字或中划线组成"},{type:"string",pattern:/[a-zA-Z0-9]$/,trigger:"blur",message:"以字母或数字结尾"},{type:"string",min:4,trigger:"blur",message:"不得少于4个字符"}]}},[t("u-input",{attrs:{maxlength:"112",placeholder:"4~12位字母、数字或中划线组成"}})],1)],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v("\"[\n    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },\n    { type: 'string', pattern: /^[a-zA-Z]/, trigger: 'input+blur', message: '以字母开头' },\n    { type: 'string', pattern: /^[a-zA-Z0-9-]+$/, trigger: 'input+blur', message: '字母、数字或中划线组成' },\n    { type: 'string', pattern: /[a-zA-Z0-9]$/, trigger: 'blur', message: '以字母或数字结尾' },\n    { type: 'string', min: 4, trigger: 'blur', message: '不得少于4个字符' },\n]\"")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"112"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12位字母、数字或中划线组成"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n")])])])]),t("h5",[s._v("多字段的规则列表")]),t("p",[s._v("一个表单经常需要给的多个字段添加规则列表。为了方便，我们支持在"),t("code",{pre:!0},[s._v("<u-form>")]),s._v("中汇总传入，通过"),t("code",{pre:!0},[s._v("<u-form-item>")]),s._v("的"),t("code",{pre:!0},[s._v("name")]),s._v("属性来区别。")]),t("u-example",[t("div",[t("c-2d1a0426")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"username"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"邮箱"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"email"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"24"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入邮箱"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入用户名'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入4~12个字符'")]),s._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入邮箱'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'邮箱格式不正确'")]),s._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("规则扩充和异步验证")]),t("p",[s._v("我们使用了"),t("u-link",{attrs:{href:"https://github.com/yiminghe/async-validator"}},[s._v("async-validator")]),s._v("这个库，基本可以满足这两项功能。")],1),t("p",[s._v("比如下面的例子是关于自定义规则的，判断两次输入的密码是否一致：")]),t("u-example",[t("div",[t("c-7e18f637")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"密码"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"model.password"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"6~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"确认密码"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"confirm"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"model.confirm"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"6~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("设置"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("model")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("confirm")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入密码'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'6~12个字符'")]),s._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("confirm")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'两次输入的密码不一致'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("validator")]),s._v(": "),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("rule, value, callback")]),s._v(") =>")]),s._v(" {\n                        value === "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".model.password ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("());\n                    } },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("p",[s._v("下面的例子是关于异步验证的，判断用户名是否已被使用，尝试输入“aaaa”：")]),t("u-example",[t("div",[t("c-33760739")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"username"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" checkUsername = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}},[s._v("username")]),s._v(") ")]),s._v("{\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Promise")]),s._v("("),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("resolve, reject")]),s._v(") =>")]),s._v(" {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (["),t("span",{attrs:{class:"hljs-string"}},[s._v("'aaaa'")]),s._v(", "),t("span",{attrs:{class:"hljs-string"}},[s._v("'abcd'")]),s._v(", "),t("span",{attrs:{class:"hljs-string"}},[s._v("'1234'")]),s._v("].includes(username))\n            reject("),t("span",{attrs:{class:"hljs-string"}},[s._v("'该用户名已被使用'")]),s._v(");\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("\n            resolve();\n    });\n};\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入用户名'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入4~12个字符'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'该用户名已被使用'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("validator")]),s._v(": "),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("rule, value, callback")]),s._v(") =>")]),s._v(" {\n                        checkUsername(value)\n                            .then("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" callback())\n                            .catch("),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("err")]),s._v(") =>")]),s._v(" callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("(err)));\n                    } },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("触发方式")]),t("p",[s._v("表单验证行为按照实时性通常可以分为三种：提交验证、失焦验证、实时验证，分别对应验证规则"),t("code",{pre:!0},[s._v("trigger")]),s._v("的三种触发方式："),t("code",{pre:!0},[s._v("submit")]),s._v(", "),t("code",{pre:!0},[s._v("blur")]),s._v(", "),t("code",{pre:!0},[s._v("input")]),s._v("，规则中默认为"),t("code",{pre:!0},[s._v("submit")]),s._v("。")]),t("p",[s._v("另外还有一种行为叫表单限制，不属于表单验证，但通常与之配合使用。")]),t("h5",[s._v("提交验证")]),t("p",[s._v("点击表单提交按钮时才对表单中所有控件进行验证，通常对应submit按钮的"),t("code",{pre:!0},[s._v("click")]),s._v("事件。示例如下：")]),t("u-example",[t("div",[t("c-e8b15f8e")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"form"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"username"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"邮箱"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"email"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"24"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入邮箱"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"submit()"')]),s._v(">")]),s._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入用户名'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入4~12个字符'")]),s._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入邮箱'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'邮箱格式不正确'")]),s._v(" },\n                ],\n            },\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n        submit() {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.form.validate()\n                .then("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" alert("),t("span",{attrs:{class:"hljs-string"}},[s._v("'提交成功'")]),s._v("))\n                .catch("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" { "),t("span",{attrs:{class:"hljs-comment"}},[s._v("/* noop */")]),s._v(" });\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h5",[s._v("失焦验证")]),t("p",[s._v("在表单控件失去焦点时对该控件进行验证，通常对应表单控件的"),t("code",{pre:!0},[s._v("blur")]),s._v("事件。示例如下：")]),t("u-example",[t("div",[t("c-00ee769a")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"form"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"username"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"邮箱"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"email"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"24"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入邮箱"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入用户名'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入4~12个字符'")]),s._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入邮箱'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'邮箱格式不正确'")]),s._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h5",[s._v("实时验证")]),t("p",[s._v("在表单控件的值实时输入改变时，对该控件进行验证，通常对应表单的"),t("code",{pre:!0},[s._v("input")]),s._v("事件。当只激活实时验证时，失焦验证会跳过此规则并且覆盖原来的结果，因此通常我们需要采用实时与失焦叠加的方式"),t("code",{pre:!0},[s._v("input+blur")]),s._v("。")]),t("p",[s._v("下面的例子中，对用户名长度和邮箱格式的判断为实时验证。其中邮箱的验证没有采用实时与失焦叠加的方式，可以发现这种方式不是很合理。")]),t("u-example",[t("div",[t("c-6ca5f59a")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"form"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"username"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"12"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4~12个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"邮箱"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"email"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"24"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"请输入邮箱"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入用户名'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'input+blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入4~12个字符'")]),s._v(" },\n                ],\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": [\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入邮箱'")]),s._v(" },\n                    { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'邮箱格式不正确'")]),s._v(" },\n                ],\n            },\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h5",[s._v("表单限制")]),t("p",[s._v("在表单控件的值改变时，对该值限制在规定的长度、范围或者格式内，如"),t("code",{pre:!0},[s._v("<input>")]),s._v("控件的部分"),t("code",{pre:!0},[s._v("type")]),s._v("和"),t("code",{pre:!0},[s._v("maxlength")]),s._v("的限制行为等：")]),t("u-example",[t("div",[t("u-form",[t("u-form-item",{attrs:{label:"用户名"}},[t("u-input",{attrs:{maxlength:"4",placeholder:"不超过4个字符"}})],1)],1)],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-html"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"4"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"不超过4个字符"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n")])])])]),t("p",[s._v("关于限制格式，我们之后计划给"),t("code",{pre:!0},[s._v("<u-input>")]),s._v("实现一个"),t("code",{pre:!0},[s._v("format")]),s._v("属性。")]),t("h3",[s._v("数据比较")]),t("h3",[s._v("数据缓存")]),t("h2",[s._v("扩充控件")]),t("p",[t("code",{pre:!0},[s._v("<u-form>")]),s._v("、"),t("code",{pre:!0},[s._v("<u-form-group>")]),s._v("、"),t("code",{pre:!0},[s._v("<u-form>")]),s._v("三种组件构成一个基本的表单体系，在大部分场景可以直接使用，不需要做扩展。而表单控件在业务中是多样的，原型组件库不可能完全覆盖，有很多需要自行设计。")]),t("p",[s._v("下面会讲述，如何设计表单控件，接入到Vusion的表单体系中，从而可以统一走表单的规则验证、事件处理等通道，无需额外处理。")]),t("h3",[s._v("简单示例")]),t("p",[s._v("我们先拿一个最简单的表单控件——复选框"),t("code",{pre:!0},[s._v("<e-checkbox>")]),s._v("来举例。")]),t("h4",[s._v("结构和样式")]),t("p",[s._v("首先可以很快实现它的结构和样式。")]),t("u-example",[t("div",[t("c-6f4e976a")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v(">")]),s._v("✓"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(",\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("属性")]),t("p",[s._v("每个表单控件总有一个核心属性，通常用于绑定数据，比如：")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("<u-checkbox>")]),s._v("可以有一个表示选中状态的"),t("code",{pre:!0},[s._v("checked")]),s._v("属性")]),t("li",[t("code",{pre:!0},[s._v("<u-date-picker>")]),s._v("可以有一个表示日期的"),t("code",{pre:!0},[s._v("date")]),s._v("属性")]),t("li",[t("code",{pre:!0},[s._v("<u-number-input>")]),s._v("可以有一个表示数字的"),t("code",{pre:!0},[s._v("number")]),s._v("属性")])]),t("p",[s._v("但在Vusion中，我们推荐统一使用"),t("code",{pre:!0},[s._v("value")]),s._v("属性来处理，因为：")]),t("ul",[t("li",[s._v("经常有对表单控件做统一处理的情形，比如有的时候你可能需要遍历："),t("code",{pre:!0},[s._v("form.fields.map((field) => field.value)")])]),t("li",[s._v("为了与Vue的"),t("code",{pre:!0},[s._v("v-model")]),s._v("保持一致（虽然它也支持自定义）")]),t("li",[s._v("有时实在想不出什么好的名字，不如直接用"),t("code",{pre:!0},[s._v("value")]),s._v("也不显得混乱")])]),t("p",[s._v("因此，我们给上面的示例添加属性：")]),t("u-example",[t("div",[t("c-5bdf3667")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"value = !value"')]),s._v(">")]),s._v("{{ value ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("单向流与双向绑定")]),t("p",[s._v("熟悉Vue的童鞋都知道，Vue2.x为了保证单向数据流，放弃了1.x的双向绑定机制。这是好事，因为不用担心内部组件悄悄地改变父组件的状态。")]),t("p",[s._v("但与此同时，也给我们的组件设计稍微带来点不便：对于一个属性，我们往往需要两个变量来维护。")]),t("p",[s._v("比如在上面的例子中，我们只有一个prop，当点击复选框时，Vue却不允许修改这个属性。所以我们还需要一个data变量来维护实际的内部状态。")]),t("h5",[s._v("命名规范")]),t("p",[s._v("这里就牵扯到一个命名规范了。prop中一个"),t("code",{pre:!0},[s._v("value")]),s._v("，data中一个"),t("code",{pre:!0},[s._v("value")]),s._v("，名字重复，怎么定义比较好？")]),t("pre",{pre:!0,attrs:{class:"hljs lang-javascript"}},[t("code",{attrs:{"v-pre":""}},[s._v("{\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" };\n    },\n}\n")])]),t("p",[s._v("首先，"),t("code",{pre:!0},[s._v("value")]),s._v("和"),t("code",{pre:!0},[s._v("_value")]),s._v("是不行的，因为Vue不会对"),t("code",{pre:!0},[s._v("_")]),s._v("开头的变量做依赖管理。然后，有的组件库中是用"),t("code",{pre:!0},[s._v("initValue")]),s._v("或者"),t("code",{pre:!0},[s._v("defaultValue")]),s._v("来表示prop，用"),t("code",{pre:!0},[s._v("value")]),s._v("来表示data，我认为这样也不合理，因为prop也是会变的，不一定是一个默认值或初始值。")]),t("p",[s._v("我们更倾向组件暴露的API简洁友好，所以还是决定对data下手。Vusion中规定与prop相关的那个data变量，在前面加上"),t("code",{pre:!0},[s._v("current")]),s._v("前缀，表示当前的一种状态。比如"),t("code",{pre:!0},[s._v("currentValue")]),s._v("变量对应"),t("code",{pre:!0},[s._v("value")]),s._v("属性，"),t("code",{pre:!0},[s._v("currentPage")]),s._v("变量对应"),t("code",{pre:!0},[s._v("page")]),s._v("属性，"),t("code",{pre:!0},[s._v("currentExpanded")]),s._v("变量对应"),t("code",{pre:!0},[s._v("expanded")]),s._v("属性等。")]),t("h5",[s._v("监听属性")]),t("p",[s._v("这里需要注意的是，当变成两个变量的时候，外部传入的状态与内部状态分离，也就是说内部状态不会响应外部状态的变更。这时需要一个额外的watcher来处理。")]),t("p",[s._v("考虑到这几点，示例修改为下面的形式：")]),t("u-example",[t("div",[t("c-47c1e1f5")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"currentValue = !currentValue"')]),s._v(">")]),s._v("{{ currentValue ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("currentValue")]),s._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value,\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = value;\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h5",[s._v("双向绑定")]),t("p",[s._v("最后，为了让组件使用起来更方便，Vue2提供了"),t("code",{pre:!0},[s._v("v-model")]),s._v("和"),t("code",{pre:!0},[s._v(".sync")]),s._v("两种双向绑定语法糖，只需添加两个事件即可。")]),t("p",[t("em",[s._v("下面的例子为了让大家更好地观察双向绑定，将"),t("code",{pre:!0},[s._v("<e-checkbox>")]),s._v("组件的代码放入了components中。")])]),t("u-example",[t("div",[t("c-04df28ea")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("复选框："),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-checkbox")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.checkbox"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"checked"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-checkbox")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("绑定值：{{ checked }}"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"actionscript"}},[s._v("\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(": {\n            template: `<div @click="),t("span",{attrs:{class:"hljs-string"}},[s._v('"check()"')]),s._v(">{{ currentValue ? "),t("span",{attrs:{class:"hljs-string"}},[s._v("'✓'")]),s._v(" : "),t("span",{attrs:{class:"hljs-string"}},[s._v("'&nbsp;'")]),s._v(" }}</div>`,\n            props: {\n                value: { type: Boolean, "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" },\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                    currentValue: "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value,\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = value;\n                },\n            },\n            methods: {\n                check() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue;\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", currentValue);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'update:value'")]),s._v(", currentValue);\n                }\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { checked: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".checkbox")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("继承Field")]),t("p",[s._v("到目前为止，我们仅仅是描述了如何按规范实现了一个表单控件，但还没有与Vusion的表单体系联系在一起。")]),t("p",[s._v("有关触发验证等功能已经封装在"),t("code",{pre:!0},[s._v("<u-field>")]),s._v("这个基类组件（或叫Mixin）中了，我们要做的只需继承一下它即可。")]),t("p",[s._v("下面是一个很简单的复选框与表单验证相关的例子——验证是否同意了服务条款。")]),t("u-example",[t("div",[t("c-65ca7611")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"form"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"复选框"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-checkbox")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.checkbox"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-checkbox")]),s._v(">")]),s._v(" 同意并遵守服务条款\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$refs.form.validate()"')]),s._v(">")]),s._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Field } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'proto-ui.vusion'")]),s._v(";\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(": {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("mixins")]),s._v(": [Field],\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("template")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("`<div @click=\"check()\">{{ currentValue ? '✓' : '&nbsp;' }}</div>`")]),s._v(",\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n                "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" },\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("currentValue")]),s._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value,\n                };\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(": {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = value;\n                },\n            },\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n                check() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue;\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", currentValue);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'update:value'")]),s._v(", currentValue);\n                }\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": [\n                { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'boolean'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'您还未接受服务条款'")]),s._v(", validator(rule, value, callback) {\n                    value ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("("),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("));\n                } },\n            ],\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".checkbox")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("事件")]),t("p",[s._v("上面我们只抛了一个"),t("code",{pre:!0},[s._v("input")]),s._v("事件。为了保证功能实现的完整性与一致性，对于一个表单控件，我们最好暴露这4种事件："),t("code",{pre:!0},[s._v("input")]),s._v("、"),t("code",{pre:!0},[s._v("change")]),s._v("、"),t("code",{pre:!0},[s._v("focus")]),s._v("和"),t("code",{pre:!0},[s._v("blur")]),s._v("。")]),t("p",[s._v("对于组件中有focusable的元素，我们照着抛出来就行；如果没有的话，我们可以用"),t("code",{pre:!0},[s._v("tabindex")]),s._v("来设置。")]),t("u-example",[t("div",[t("c-886b753c")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v("\n    @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"check()"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("tabindex")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"0"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("keydown.space.prevent")]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("keyup.space.prevent")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"check()"')]),s._v("\n    @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("focus")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onFocus"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("blur")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onBlur"')]),s._v("\n>")]),s._v("{{ currentValue ? '✓' : '&nbsp;' }}"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Field } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'proto-ui.vusion'")]),s._v(";\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-checkbox'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("mixins")]),s._v(": [Field],\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": { "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(", "),t("span",{attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("currentValue")]),s._v(": "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".value,\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = value;\n        },\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n        onFocus(e) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'focus'")]),s._v(", e);\n        },\n        onBlur(e) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", e);\n        },\n        check() {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" currentValue = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue = !"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".currentValue;\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", currentValue);\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'update:value'")]),s._v(", currentValue);\n        }\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("user-select")]),s._v(": none;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("16px")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),t("span",{attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": $brand-primary;\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h3",[s._v("复杂示例")]),t("p",[s._v("再举一个复杂一点的例子，假设我们需要一个用户填写IP的表单控件"),t("code",{pre:!0},[s._v("<e-ip-input>")]),s._v("，表单提交时要求验证IP格式的正确性。")]),t("h4",[s._v("结构和样式")]),t("p",[s._v("同样，可以很快产出这个组件的结构和样式。")]),t("u-example",[t("div",[t("c-61bd8802")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-ip-input'")]),s._v(",\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {}\n\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".input")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("60px")]),s._v(";\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("属性")]),t("p",[s._v("根据之前的约定，核心属性我们取"),t("code",{pre:!0},[s._v("value")]),s._v("而不是"),t("code",{pre:!0},[s._v("ip")]),s._v("。")]),t("u-example",[t("div",[t("c-c8820c5e")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.root"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[0]"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[1]"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[2]"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v(" .\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$style.input"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("maxlength")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[3]"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-ip-input'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v("\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("parts")]),s._v(": [],\n        };\n    },\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(": {\n        value(value) {\n            "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n        },\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(">")]),t("span",{attrs:{class:"css"}},[s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".root")]),s._v(" {}\n\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".input")]),s._v(" {\n    "),t("span",{attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("60px")]),s._v(";\n}\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("单向流与双向绑定")]),t("p",[t("em",[s._v("下面的例子为了让大家更好地观察双向绑定，将"),t("code",{pre:!0},[s._v("<e-checkbox>")]),s._v("组件的代码放入了components中。")])]),t("u-example",[t("div",[t("c-fe024534")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("IP框："),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-ip-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"ip"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-ip-input")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("绑定值：{{ ip }}"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"actionscript"}},[s._v("\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-ip-input'")]),s._v(": {\n            template: `<div style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"display: inline-block"')]),s._v(">\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[0]"')]),s._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[1]"')]),s._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[2]"')]),s._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[3]"')]),s._v(" @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("></u-input>\n            </div>`,\n            props: {\n                value: String\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                    parts: [],\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                },\n            },\n            methods: {\n                onInput() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", value);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'update:value'")]),s._v(", value);\n                },\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { ip: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(" };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h4",[s._v("继承Field并补全事件")]),t("u-example",[t("div",[t("c-6a690f86")],1),t("div",{attrs:{slot:"code"},slot:"code"},[t("pre",{pre:!0,attrs:{class:"hljs lang-vue"}},[t("code",{attrs:{"v-pre":""}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"form"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"IP地址"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-ip-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"model.ip"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("e-ip-input")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(" @"),t("span",{attrs:{class:"hljs-attr"}},[s._v("click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"$refs.form.validate().catch(() => { /* noop */ })"')]),s._v(">")]),s._v("提交"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-button")]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form-item")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("u-form")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"actionscript"}},[s._v("\n"),t("span",{attrs:{class:"hljs-meta"}},[t("span",{attrs:{class:"hljs-meta-keyword"}},[s._v("import")]),s._v(" { Field } from 'proto-ui.vusion';")]),s._v("\n\nexport "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    components: {\n        "),t("span",{attrs:{class:"hljs-string"}},[s._v("'e-ip-input'")]),s._v(": {\n            mixins: [Field],\n            template: `<div style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"display: inline-block"')]),s._v(">\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[0]"')]),s._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onChange()"')]),s._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onFocus($event)"')]),s._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onBlur($event)"')]),s._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[1]"')]),s._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onChange()"')]),s._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onFocus($event)"')]),s._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onBlur($event)"')]),s._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[2]"')]),s._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onChange()"')]),s._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onFocus($event)"')]),s._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onBlur($event)"')]),s._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("\n                ></u-input> .\n                <u-input maxlength="),t("span",{attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(" v-model="),t("span",{attrs:{class:"hljs-string"}},[s._v('"parts[3]"')]),s._v("\n                    @input="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onInput()"')]),s._v(" @change="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onChange()"')]),s._v(" @focus="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onFocus($event)"')]),s._v(" @blur="),t("span",{attrs:{class:"hljs-string"}},[s._v('"onBlur($event)"')]),s._v("\n                    style="),t("span",{attrs:{class:"hljs-string"}},[s._v('"width: 60px"')]),s._v("\n                ></u-input>\n            </div>`,\n            props: {\n                value: String\n            },\n            data() {\n                "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                    parts: [],\n                };\n            },\n            watch: {\n                value(value) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                },\n            },\n            methods: {\n                onInput(partValue, index) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(", value);\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'update:value'")]),s._v(", value);\n                },\n                onChange() {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" value = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parts.join("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'change'")]),s._v(", {\n                        value,\n                    });\n                },\n                onFocus(e) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'focus'")]),s._v(", e);\n                },\n                onBlur(e) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", e);\n                },\n            },\n        },\n    },\n    data() {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            model: {\n                ip: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n            },\n            rules: [\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'blur'")]),s._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请填写IP'")]),s._v(" },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请填写完整的IP'")]),s._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                    parts.length === "),t("span",{attrs:{class:"hljs-number"}},[s._v("4")]),s._v(" ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Error("),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v("));\n                } },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'input+blur'")]),s._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请填写数字'")]),s._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                    parts.every((part) => !isNaN(part) && part !== "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(") ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Error());\n                } },\n                { type: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(", required: "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", trigger: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'input+blur'")]),s._v(", message: "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请填写0-255的数字'")]),s._v(", validator(rule, value, callback) {\n                    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" parts = value.split("),t("span",{attrs:{class:"hljs-string"}},[s._v("'.'")]),s._v(");\n                    parts.every((part) => "),t("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" <= part && part < "),t("span",{attrs:{class:"hljs-number"}},[s._v("256")]),s._v(") ? callback() : callback("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Error());\n                } },\n            ]\n        };\n    },\n};\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),t("h2",[s._v("FAQ")]),t("h4",[s._v("为什么要将验证逻辑放在"),t("code",{pre:!0},[s._v("<u-form-item>")]),s._v("而不是"),t("code",{pre:!0},[s._v("<u-field>")]),s._v("中？")]),t("p",[s._v("验证有一部分功能\b是关于消息提示的，这牵扯到模板的实现。如果验证逻辑放在"),t("code",{pre:!0},[s._v("<u-field>")]),s._v("中，那么就要求每个子类的模板都要实现这部分功能。一个组件最好只干一件事情，所以我们把它划到了"),t("code",{pre:!0},[s._v("<u-form-item>")]),s._v("中，虽然要添加一些组件间的通信逻辑，但这些都是必要的。")])],1)},staticRenderFns:[]},ts=t("jBkQ")(ss,as,!1,null,null,null);a.default=ts.exports},tI62:function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._37hGEQAYfP2bytw7{width:60px}",""]),a.locals={root:"_2qpOkhGKHiEkfPQ7",input:"_37hGEQAYfP2bytw7"}},wEDW:function(s,a,t){(a=s.exports=t("jjiv")(!1)).push([s.i,"._2SSQ9k46TZehdLmm{width:60px}",""]),a.locals={root:"kBOxrTTh8VFpoInu",input:"_2SSQ9k46TZehdLmm"}}});